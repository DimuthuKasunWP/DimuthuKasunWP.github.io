<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>How To Apply CI/CD For Spring Boot</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">How To Apply CI/CD For Spring Boot</h1>
</header>
<section data-field="subtitle" class="p-summary">
This article is about building Continuous Integration/Continuous Delivery (CI/CD) into Spring-Boot-based Java applications. First, let’s…
</section>
<section data-field="body" class="e-content">
<section name="f1fa" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="cfe3" id="cfe3" class="graf graf--h3 graf--leading graf--title">How To Apply CI/CD For Spring Boot</h3><figure name="916b" id="916b" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 532px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 75.9%;"></div><img class="graf-image" data-image-id="1*gjua-3yPArZlPD3rq6LNWA.png" data-width="2302" data-height="1748" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*gjua-3yPArZlPD3rq6LNWA.png"></div></figure><p name="91a7" id="91a7" class="graf graf--p graf-after--figure">This article is about building Continuous Integration/Continuous Delivery (CI/CD) into Spring-Boot-based Java applications. First, let’s establish everything we will learn in this article:</p><p name="51bd" id="51bd" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Step 1)</strong> Create a Spring Boot Java App using <a href="https://start.spring.io/" data-href="https://start.spring.io/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Spring Initializr</a></p><p name="b6ed" id="b6ed" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Step 2)</strong> Create a GitHub repository</p><p name="79e5" id="79e5" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Step 3)</strong> Use <a href="https://travis-ci.com/" data-href="https://travis-ci.com/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Travis CI</a> and <a href="https://www.docker.com/" data-href="https://www.docker.com/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Docker</a> to implement CI/CD</p><p name="81d3" id="81d3" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Step 4)</strong> Add <a href="https://codecov.io/" data-href="https://codecov.io/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Codecov</a> to provide code coverage</p><p name="c956" id="c956" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Step 5)</strong> Use <a href="https://sonarcloud.io/" data-href="https://sonarcloud.io/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">SonarCloud</a> to write stellar code</p><p name="840e" id="840e" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Step 6)</strong> Build a project site using <a href="https://github.com/github/maven-plugins" data-href="https://github.com/github/maven-plugins" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">GitHub site-maven-plugin</a></p><p name="0f03" id="0f03" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Step 7)</strong> Deploy the app on <a href="https://www.heroku.com/" data-href="https://www.heroku.com/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Heroku</a> using <a href="https://github.com/heroku/heroku-maven-plugin" data-href="https://github.com/heroku/heroku-maven-plugin" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">heroku-maven-plugin</a></p><p name="1ef0" id="1ef0" class="graf graf--p graf-after--p">Gradually, we’ll add badges to the README.md file so that we can be notified in real-time on the state of <strong class="markup--strong markup--p-strong">Travis CI</strong>, <strong class="markup--strong markup--p-strong">Docker</strong>, <strong class="markup--strong markup--p-strong">Codecov,</strong> and <strong class="markup--strong markup--p-strong">SonarCloud</strong>. Also, we’ll add the <strong class="markup--strong markup--p-strong">license</strong> badge.</p><p name="16b6" id="16b6" class="graf graf--p graf-after--p">Are you ready? If not take time to better understand or prepare yourself and continue to read this later. The code is available <a href="https://github.com/DimuthuKasunWP/ci-cd-with-spring-boot" data-href="https://github.com/DimuthuKasunWP/ci-cd-with-spring-boot" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">here</a>. So just fork, it’s all yours!</p><h3 name="9d46" id="9d46" class="graf graf--h3 graf-after--p">Step 1: Create a Spring Boot Java App Using Spring Initializr</h3><p name="c228" id="c228" class="graf graf--p graf-after--h3">In this project, I used <a href="https://spring.io/tools" data-href="https://spring.io/tools" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Spring Tool Suite 4</a> (STS 4) IDE; you are free to use whatever tool you find suitable for this project. STS 4 has the Spring Initializr built-in, so that’s why I chose it for this project.</p><p name="fb8a" id="fb8a" class="graf graf--p graf-after--p">create a new spring starter project and fill the rest like the following.</p><pre name="1b50" id="1b50" class="graf graf--pre graf-after--p">Name: <strong class="markup--strong markup--pre-strong">cicd-applied-to-spring-boot-java-app</strong></pre><pre name="e4a4" id="e4a4" class="graf graf--pre graf-after--pre">Group: <strong class="markup--strong markup--pre-strong">com.cicd</strong></pre><pre name="df79" id="df79" class="graf graf--pre graf-after--pre">Artifact: <strong class="markup--strong markup--pre-strong">cicd-applied-to-spring-boot-java-app</strong></pre><pre name="b918" id="b918" class="graf graf--pre graf-after--pre">Description: <strong class="markup--strong markup--pre-strong">Implementing CI/CD on Spring Boot Java App</strong></pre><pre name="1965" id="1965" class="graf graf--pre graf-after--pre">Package: <strong class="markup--strong markup--pre-strong">com.cicd.cicd-applied-to-spring-boot-java-app</strong></pre><pre name="52ee" id="52ee" class="graf graf--pre graf-after--pre"><strong class="markup--strong markup--pre-strong">By default:</strong></pre><pre name="4a34" id="4a34" class="graf graf--pre graf-after--pre">Type: <strong class="markup--strong markup--pre-strong">Maven</strong></pre><pre name="5abb" id="5abb" class="graf graf--pre graf-after--pre">Packaging: <strong class="markup--strong markup--pre-strong">jar</strong></pre><pre name="d941" id="d941" class="graf graf--pre graf-after--pre">Java Version: <strong class="markup--strong markup--pre-strong">8</strong></pre><pre name="f9a3" id="f9a3" class="graf graf--pre graf-after--pre">Language: <strong class="markup--strong markup--pre-strong">Java</strong></pre><p name="47ef" id="47ef" class="graf graf--p graf-after--pre">or you can fill with your own details as your interest.</p><figure name="6169" id="6169" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 376px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 53.7%;"></div><img class="graf-image" data-image-id="1*JVldEnhom83eaB7imLQBGw.jpeg" data-width="1035" data-height="556" src="https://cdn-images-1.medium.com/max/800/1*JVldEnhom83eaB7imLQBGw.jpeg"></div></figure><p name="f699" id="f699" class="graf graf--p graf-after--figure">Then choose the spring web and finish.</p><p name="ee1a" id="ee1a" class="graf graf--p graf-after--p">Next, please open the <strong class="markup--strong markup--p-strong">CicdAppliedToSpringBootJavaAppApplication.java file.</strong></p><p name="c50c" id="c50c" class="graf graf--p graf-after--p">We can then add a basic endpoint:</p><pre name="2a40" id="2a40" class="graf graf--pre graf-after--p">package com.cicd.cicdappliedtospringbootjavaapp;<br>import org.springframework.boot.SpringApplication;<br>import org.springframework.boot.autoconfigure.SpringBootApplication;</pre><pre name="5b7e" id="5b7e" class="graf graf--pre graf-after--pre">@SpringBootApplication<br>@RestController</pre><pre name="8035" id="8035" class="graf graf--pre graf-after--pre">public class CicdAppliedToSpringBootJavaAppApplication {</pre><pre name="02b6" id="02b6" class="graf graf--pre graf-after--pre">@GetMapping(&quot;/&quot;)<br>public String home(){<br>return &quot;hello world from dimuthu&quot;;<br>}</pre><pre name="0253" id="0253" class="graf graf--pre graf-after--pre">public static void main(String[] args) {</pre><pre name="06f4" id="06f4" class="graf graf--pre graf-after--pre">SpringApplication.run(CicdAppliedToSpringBootJavaAppApplication.class, args);<br>}</pre><pre name="7d4b" id="7d4b" class="graf graf--pre graf-after--pre">}</pre><p name="4444" id="4444" class="graf graf--p graf-after--pre">Then right-click on the project and click Run as-&gt; Maven Build</p><p name="9a0d" id="9a0d" class="graf graf--p graf-after--p">To run the app, please add the following:</p><pre name="ac10" id="ac10" class="graf graf--pre graf-after--p">Goals -&gt; <strong class="markup--strong markup--pre-strong">spring-boot:run</strong></pre><p name="e62e" id="e62e" class="graf graf--p graf-after--pre">After set goals click Run.</p><figure name="5e7a" id="5e7a" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 300px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 42.9%;"></div><img class="graf-image" data-image-id="1*JZ2No4BH5l5SnpL77cUKnw.jpeg" data-width="1042" data-height="447" src="https://cdn-images-1.medium.com/max/800/1*JZ2No4BH5l5SnpL77cUKnw.jpeg"></div></figure><p name="fff4" id="fff4" class="graf graf--p graf-after--figure">The final result can be found here: <a href="http://localhost:8080/" data-href="http://localhost:8080/" class="markup--anchor markup--p-anchor" rel="nofollow" target="_blank">http://localhost:8080/</a></p><figure name="f4d8" id="f4d8" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 416px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 59.4%;"></div><img class="graf-image" data-image-id="1*drcuTtZUsY5qw_hD8iyxnw.jpeg" data-width="1447" data-height="859" src="https://cdn-images-1.medium.com/max/800/1*drcuTtZUsY5qw_hD8iyxnw.jpeg"></div></figure><p name="4c2f" id="4c2f" class="graf graf--p graf-after--figure">Now, on to the next step!</p><h3 name="10ba" id="10ba" class="graf graf--h3 graf-after--p">Step 2: Create a GitHub Repository</h3><p name="8fd8" id="8fd8" class="graf graf--p graf-after--h3">In this step, we need to create a Github repository.</p><pre name="1a0a" id="1a0a" class="graf graf--pre graf-after--p">Repository name: <strong class="markup--strong markup--pre-strong">cicd-applied-to-spring-boot-java-app</strong> (I chose to set the same name as the artifact field from step one)</pre><pre name="dca9" id="dca9" class="graf graf--pre graf-after--pre">Description: <strong class="markup--strong markup--pre-strong">Implementing Continuous Integration/Continuous Delivery on Spring Boot Java App</strong></pre><pre name="2eb6" id="2eb6" class="graf graf--pre graf-after--pre">Click on <strong class="markup--strong markup--pre-strong">Public</strong></pre><pre name="4f93" id="4f93" class="graf graf--pre graf-after--pre">Click on<strong class="markup--strong markup--pre-strong"> Initialize this repository with a README</strong></pre><pre name="aad2" id="aad2" class="graf graf--pre graf-after--pre">Select the <strong class="markup--strong markup--pre-strong">MIT</strong> license.</pre><pre name="145c" id="145c" class="graf graf--pre graf-after--pre">Why? It&#39;s very simple. The following links are helpful to better understand why you need an MIT license. Here&#39;s <a href="https://choosealicense.com/" data-href="https://choosealicense.com/" class="markup--anchor markup--pre-anchor" rel="nofollow noopener" target="_blank">how to choose an open-source license</a> and <a href="https://www.freecodecamp.org/news/how-open-source-licenses-work-and-how-to-add-them-to-your-projects-34310c3cf94/" data-href="https://www.freecodecamp.org/news/how-open-source-licenses-work-and-how-to-add-them-to-your-projects-34310c3cf94/" class="markup--anchor markup--pre-anchor" rel="nofollow noopener" target="_blank">how open-source licenses work and how to add them to your projects</a>.</pre><pre name="8366" id="8366" class="graf graf--pre graf-after--pre">Later, we&#39;ll add the <strong class="markup--strong markup--pre-strong">.gitignore</strong> file.</pre><p name="c481" id="c481" class="graf graf--p graf-after--pre">After created we need to clone it. Then our coded files should copy to this local repository.</p><p name="055f" id="055f" class="graf graf--p graf-after--p">Then we can add the .gitignore file as follows.</p><figure name="09df" id="09df" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 359px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 51.2%;"></div><img class="graf-image" data-image-id="1*u6Wbs3A1P4-QO4yOo11brg.jpeg" data-width="1144" data-height="586" src="https://cdn-images-1.medium.com/max/800/1*u6Wbs3A1P4-QO4yOo11brg.jpeg"></div></figure><p name="146f" id="146f" class="graf graf--p graf-after--figure">finally, we can push it to our remote repository.</p><h3 name="7309" id="7309" class="graf graf--h3 graf-after--p">Step 3: Use Travis CI and Docker to Implement CI/CD</h3><p name="8bd6" id="8bd6" class="graf graf--p graf-after--h3"><strong class="markup--strong markup--p-strong">Note:</strong> If you’re not familiar with either of these tools, check out this <a href="https://docs.travis-ci.com/user/tutorial/" data-href="https://docs.travis-ci.com/user/tutorial/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Travis CI Tutorial</a> and <a href="https://www.docker.com/get-started" data-href="https://www.docker.com/get-started" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Docker Getting Started</a> tutorial to help you get started.</p><p name="fab2" id="fab2" class="graf graf--p graf-after--p">Sign up or sign in with GitHub and make sure Travis CI has access to your repository. Then, create a file named <strong class="markup--strong markup--p-strong">.travis.yml</strong>, which contains instructions that Travis CI will follow.</p><p name="4e8b" id="4e8b" class="graf graf--p graf-after--p">Change the details about the name and password of docker in .travis.yml otherwise, t will give build errors.</p><p name="7ecf" id="7ecf" class="graf graf--p graf-after--p">It’s important to know that, for every change you make, Travis CI will trigger a build and send an email. It’s a continuous process.</p><p name="a24e" id="a24e" class="graf graf--p graf-after--p">If you need to add Travis badge you can add it from here:</p><figure name="c3bb" id="c3bb" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 304px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 43.5%;"></div><img class="graf-image" data-image-id="1*oUWvhnkr_9YW0r50jV7kpA.jpeg" data-width="826" data-height="359" src="https://cdn-images-1.medium.com/max/800/1*oUWvhnkr_9YW0r50jV7kpA.jpeg"></div></figure><p name="777a" id="777a" class="graf graf--p graf-after--figure">We successfully added Travis CI and its badge. Next, we’ll focus on Docker.</p><p name="2726" id="2726" class="graf graf--p graf-after--p">First, sign in or sign up on <a href="https://hub.docker.com/" data-href="https://hub.docker.com/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Docker Hub</a>:</p><p name="c7ba" id="c7ba" class="graf graf--p graf-after--p">create a repository with the following details:</p><pre name="45ab" id="45ab" class="graf graf--pre graf-after--p">Fill out the form as follows:</pre><pre name="77cb" id="77cb" class="graf graf--pre graf-after--pre">Name: <strong class="markup--strong markup--pre-strong">cicd-applied-to-spring-boot-java-app</strong> (GitHub repository name)</pre><pre name="ec84" id="ec84" class="graf graf--pre graf-after--pre">Description: <strong class="markup--strong markup--pre-strong">Implementing Continuous Integration/Continuous Delivery on Spring Boot Java App</strong> (GitHub repository description)</pre><pre name="562e" id="562e" class="graf graf--pre graf-after--pre">Visibility: choose <strong class="markup--strong markup--pre-strong">Public</strong></pre><pre name="05f8" id="05f8" class="graf graf--pre graf-after--pre">Build Settings: select <strong class="markup--strong markup--pre-strong">GitHub</strong></pre><pre name="9a44" id="9a44" class="graf graf--pre graf-after--pre">After clicking on the <strong class="markup--strong markup--pre-strong">Create</strong> button:</pre><p name="300a" id="300a" class="graf graf--p graf-after--pre">Then it’s time to link our Docker repository to our GitHub repository. Click on <strong class="markup--strong markup--p-strong">Builds</strong>:</p><figure name="ad69" id="ad69" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 286px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 40.9%;"></div><img class="graf-image" data-image-id="1*oCtxgliKPpixmrlAXihVEw.jpeg" data-width="1128" data-height="461" src="https://cdn-images-1.medium.com/max/800/1*oCtxgliKPpixmrlAXihVEw.jpeg"></div></figure><p name="a276" id="a276" class="graf graf--p graf-after--figure">Then select your Github repository.</p><p name="a9f5" id="a9f5" class="graf graf--p graf-after--p">Now that the GitHub repository is selected, we need to make some changes:</p><p name="8f0a" id="8f0a" class="graf graf--p graf-after--p">Autotest: select <strong class="markup--strong markup--p-strong">Internal and External Pull Requests</strong></p><p name="7103" id="7103" class="graf graf--p graf-after--p">Repository links: select <strong class="markup--strong markup--p-strong">Enable for Base Image</strong></p><figure name="339f" id="339f" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 310px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 44.3%;"></div><img class="graf-image" data-image-id="1*64K1G7ZJ7G-D7EoRxVm5bQ.jpeg" data-width="993" data-height="440" src="https://cdn-images-1.medium.com/max/800/1*64K1G7ZJ7G-D7EoRxVm5bQ.jpeg"></div></figure><figure name="01b0" id="01b0" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 314px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 44.800000000000004%;"></div><img class="graf-image" data-image-id="1*eePpaV1IgQjeX2vBUtu40Q.jpeg" data-width="1036" data-height="464" src="https://cdn-images-1.medium.com/max/800/1*eePpaV1IgQjeX2vBUtu40Q.jpeg"></div></figure><p name="7496" id="7496" class="graf graf--p graf-after--figure">After save we succeed to link our GitHub repository to the Docker repository. If you need help with Docker builds, <a href="https://docs.docker.com/docker-hub/builds/" data-href="https://docs.docker.com/docker-hub/builds/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">this link</a> is helpful.</p><p name="a713" id="a713" class="graf graf--p graf-after--p">What’s next? First, we’ll install Docker. Then we’ll make some changes to the code and Travis CI.</p><p name="d006" id="d006" class="graf graf--p graf-after--p">To install Docker, go to <a href="https://www.docker.com/get-started" data-href="https://www.docker.com/get-started" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Docker’s Get Started</a> page, select <strong class="markup--strong markup--p-strong">Docker for Developers,</strong> and click on <strong class="markup--strong markup--p-strong">Download Desktop and Take a Tutorial.</strong></p><p name="1b5a" id="1b5a" class="graf graf--p graf-after--p">After installing, To make sure you’ve installed Docker and verify it’s running properly, open your command line, and write “<strong class="markup--strong markup--p-strong">docker</strong>.” Then validate.</p><p name="80cc" id="80cc" class="graf graf--p graf-after--p">Now, go back to your IDE or text editor; we’ll make some changes to the code.</p><p name="c9e7" id="c9e7" class="graf graf--p graf-after--p">Create a file named “<strong class="markup--strong markup--p-strong">Dockerfile</strong>.” To sum up, what we’ve done so far, the Dockerile is useful when creating Docker images. To better understand the purpose of this file, this <a href="https://docs.docker.com/engine/reference/builder/" data-href="https://docs.docker.com/engine/reference/builder/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Dockerfile reference</a> will help you.</p><p name="c519" id="c519" class="graf graf--p graf-after--p">To keep things simple, I use this <a href="https://www.callicoder.com/spring-boot-docker-example/" data-href="https://www.callicoder.com/spring-boot-docker-example/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Callicoder Dockerfile example</a> and make little changes. This is what the Dockerfile looks like:</p><p name="17ec" id="17ec" class="graf graf--p graf-after--p">Here’s the Dockerfile creating a process using STS 4:</p><p name="cdb6" id="cdb6" class="graf graf--p graf-after--p">Select the project, then click on <strong class="markup--strong markup--p-strong">New -&gt; File</strong></p><p name="7fb1" id="7fb1" class="graf graf--p graf-after--p">Fill the file name field with “<strong class="markup--strong markup--p-strong">Dockerfile</strong>” and click the <strong class="markup--strong markup--p-strong">Finish</strong> button. Then Copy and paste the content of Dockerfile presented previously.</p><p name="ca35" id="ca35" class="graf graf--p graf-after--p">Before making some changes to the <strong class="markup--strong markup--p-strong">pom.xml</strong>, let’s look at the actual content:</p><p name="417a" id="417a" class="graf graf--p graf-after--p">We add <a href="https://github.com/spotify/dockerfile-maven" data-href="https://github.com/spotify/dockerfile-maven" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><strong class="markup--strong markup--p-strong">Spotify’s dockerfile-maven-plugin</strong></a><strong class="markup--strong markup--p-strong"> </strong>to push the project on Docker Hub:</p><p name="454c" id="454c" class="graf graf--p graf-after--p">Furthermore, we add <strong class="markup--strong markup--p-strong">maven-dependency-plugin</strong> as explained in this <a href="https://spring.io/guides/gs/spring-boot-docker/" data-href="https://spring.io/guides/gs/spring-boot-docker/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Getting Started With Spring Boot and Docker</a>, which states:</p><blockquote name="7da5" id="7da5" class="graf graf--blockquote graf--startsWithDoubleQuote graf-after--p">“… to ensure the jar is unpacked before the Docker image is created, we add some configuration for the dependency plugin.”</blockquote><p name="b716" id="b716" class="graf graf--p graf-after--blockquote">To continue, we will link Travis CI to Docker from our GitHub repository.</p><p name="caa6" id="caa6" class="graf graf--p graf-after--p">Do you remember your Docker username and password? Well, you will have to do so in order to proceed. We will create two environment variables in Travis CI.</p><p name="11d5" id="11d5" class="graf graf--p graf-after--p">To get there, just copy and paste this (<a href="https://travis-ci.com/FanJups/cicd-applied-to-spring-boot-java-app" data-href="https://travis-ci.com/FanJups/cicd-applied-to-spring-boot-java-app" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">https://travis-ci.com/GITHUBUSERNAME/cicd-applied-to-spring-boot-java-app</a>) in your browser. But replace <strong class="markup--strong markup--p-strong">GITHUBUSERNAME</strong> with your correct username or click on your Travis CI badge present in README.md.</p><p name="a7f0" id="a7f0" class="graf graf--p graf-after--p">Click on <strong class="markup--strong markup--p-strong">More options -&gt; Settings on Travis project dashboard.</strong></p><p name="928c" id="928c" class="graf graf--p graf-after--p">Under Environmental Variables :</p><pre name="9711" id="9711" class="graf graf--pre graf-after--p">Fill in the form as follows:</pre><pre name="abb1" id="abb1" class="graf graf--pre graf-after--pre">Name: DOCKER_PASSWORD</pre><pre name="5935" id="5935" class="graf graf--pre graf-after--pre">Value: yourdockerpassword</pre><pre name="d26d" id="d26d" class="graf graf--pre graf-after--pre">Click <strong class="markup--strong markup--pre-strong">Add</strong> button</pre><pre name="4e76" id="4e76" class="graf graf--pre graf-after--pre">Name: DOCKER_USERNAME</pre><pre name="f1a4" id="f1a4" class="graf graf--pre graf-after--pre">Value: yourdockerusername</pre><pre name="aaab" id="aaab" class="graf graf--pre graf-after--pre">Click <strong class="markup--strong markup--pre-strong">Add</strong> button</pre><p name="b854" id="b854" class="graf graf--p graf-after--pre">To deploy on Docker, we’ll use <strong class="markup--strong markup--p-strong">“mvn deploy” </strong>as explained by <a href="https://github.com/spotify/dockerfile-maven" data-href="https://github.com/spotify/dockerfile-maven" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Spotify</a>. The Apache Maven Project explains the role of the <a href="https://maven.apache.org/plugins/maven-deploy-plugin/" data-href="https://maven.apache.org/plugins/maven-deploy-plugin/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Apache Maven Deploy Plugin</a> as a plugin used to <em class="markup--em markup--p-em">“add artifacts to a remote repository.”</em></p><p name="7aeb" id="7aeb" class="graf graf--p graf-after--p">But we don’t want to add artifacts to a remote repository, we just want to deploy it on Docker. So, <a href="https://maven.apache.org/plugins/maven-deploy-plugin/usage.html" data-href="https://maven.apache.org/plugins/maven-deploy-plugin/usage.html" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">when we call the deploy phase, we must include a valid &lt;distributionManagement/&gt; section POM</a>. However, that’s not the purpose here. Thus, we’ll add this property in <strong class="markup--strong markup--p-strong">pom.xml</strong>:</p><pre name="2317" id="2317" class="graf graf--pre graf-after--p">&lt;maven.deploy.skip&gt;true&lt;/maven.deploy.skip&gt;</pre><p name="53a1" id="53a1" class="graf graf--p graf-after--pre">If we don’t add this property, this error will occur:</p><p name="84ea" id="84ea" class="graf graf--p graf--startsWithDoubleQuote graf-after--p"><strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">“[ERROR] Failed to execute goal org.apache.maven.plugins:maven-deploy-plugin:2.8.2:deploy (default-deploy) on project cicd-applied-to-spring-boot-java-app: Deployment failed: repository element was not specified in the POM inside distributionManagement element or in -DaltDeploymentRepository=id::layout::url parameter -&gt; [Help 1]</em></strong><em class="markup--em markup--p-em">”.</em></p><p name="c37d" id="c37d" class="graf graf--p graf-after--p">At this stage, it’s time to use those two Docker environment variables. Just copy and paste this new <strong class="markup--strong markup--p-strong">.travis.yml</strong> and push it on GitHub.(it is already done in the code)</p><figure name="100d" id="100d" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 308px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 44%;"></div><img class="graf-image" data-image-id="1*c6bwGYQdGa28a9psFT2nIA.jpeg" data-width="969" data-height="426" src="https://cdn-images-1.medium.com/max/800/1*c6bwGYQdGa28a9psFT2nIA.jpeg"></div></figure><p name="8ddb" id="8ddb" class="graf graf--p graf-after--figure">Commit description: “<strong class="markup--strong markup--p-strong">Linking Travis CI to Docker</strong>”</p><p name="6390" id="6390" class="graf graf--p graf-after--p">We received a red cross and Travis CI badge, meaning a beautiful error! But ignore that for now, we’ll correct it later!</p><p name="a296" id="a296" class="graf graf--p graf-after--p">Ladies and gentlemen, I’m happy to present to you: our beautiful error! Just go to the Travis CI repository and check out the beautiful build log:</p><p name="4b1a" id="4b1a" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">The command “mvn deploy” exited with 1.</strong></p><p name="74f4" id="74f4" class="graf graf--p graf-after--p">We’ve already added the Travis CI badge. Now, it’s time to do the same for Docker. Go to <a href="https://shields.io/" data-href="https://shields.io/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">https://shields.io/</a>.</p><p name="5a4c" id="5a4c" class="graf graf--p graf-after--p">On the search bar, write “<strong class="markup--strong markup--p-strong">docker</strong>.” Then, we’ll get the following results:</p><figure name="330c" id="330c" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 330px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 47.199999999999996%;"></div><img class="graf-image" data-image-id="1*2uPX_fEaSWEmKLUwi61DGQ.jpeg" data-width="1121" data-height="529" src="https://cdn-images-1.medium.com/max/800/1*2uPX_fEaSWEmKLUwi61DGQ.jpeg"></div></figure><p name="7314" id="7314" class="graf graf--p graf-after--figure">Click on <strong class="markup--strong markup--p-strong">Docker Cloud Build Status</strong>:</p><p name="38b4" id="38b4" class="graf graf--p graf-after--p">What if I told you we’ll get an error here also?</p><p name="14d6" id="14d6" class="graf graf--p graf-after--p">Nevermind, just fill the following form:</p><figure name="5db3" id="5db3" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 312px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 44.5%;"></div><img class="graf-image" data-image-id="1*iWxNJfEbmp_oSkcMlzQblg.jpeg" data-width="1076" data-height="479" src="https://cdn-images-1.medium.com/max/800/1*iWxNJfEbmp_oSkcMlzQblg.jpeg"></div></figure><p name="d6de" id="d6de" class="graf graf--p graf-after--figure">Click on the <strong class="markup--strong markup--p-strong">Copy Badge URL</strong>.</p><p name="c24a" id="c24a" class="graf graf--p graf-after--p">Now, go back to the GitHub repository and edit README.md. We’ll add the following Docker badge. (already done in the readme file)</p><p name="1c2c" id="1c2c" class="graf graf--p graf-after--p">Ladies and gentlemen, we are all winners here. So let’s get it right!</p><p name="c4f4" id="c4f4" class="graf graf--p graf-after--p">Previously, we made changes on the <strong class="markup--strong markup--p-strong">pom.xml</strong> and created a <strong class="markup--strong markup--p-strong">Dockerfile.</strong></p><p name="7f34" id="7f34" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">All of those errors occurred due to the fact that Maven didn’t know how to handle the deployment on Docker and the Dockerfile was absent so it was impossible to push images.</strong></p><p name="634a" id="634a" class="graf graf--p graf-after--p">The time has come to push those changes (<strong class="markup--strong markup--p-strong">Dockefile</strong> and <strong class="markup--strong markup--p-strong">pom.xml</strong>) on GitHub using GitHub Desktop.</p><p name="d4d1" id="d4d1" class="graf graf--p graf-after--p">Ladies and gentlemen, who are we now? Winners!</p><p name="0385" id="0385" class="graf graf--p graf-after--p">Now, we have two green badges meaning success!</p><figure name="7443" id="7443" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 349px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 49.8%;"></div><img class="graf-image" data-image-id="1*7j65jbKW0NG61xskH5hCqQ.jpeg" data-width="909" data-height="453" src="https://cdn-images-1.medium.com/max/800/1*7j65jbKW0NG61xskH5hCqQ.jpeg"></div></figure><p name="d791" id="d791" class="graf graf--p graf-after--figure">To be sure, check your emails. You should have received two emails: one from Travis CI and the other from Docker.</p><p name="2cda" id="2cda" class="graf graf--p graf-after--p">Before moving on to step three, we’ll run the app without using Docker only. Just remember to replace “DimuthuKasunWP” with your own Docker Hub username.</p><figure name="e7e3" id="e7e3" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 301px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 43%;"></div><img class="graf-image" data-image-id="1*mordEdHIjsA1BXFpkPZSzQ.jpeg" data-width="1130" data-height="486" src="https://cdn-images-1.medium.com/max/800/1*mordEdHIjsA1BXFpkPZSzQ.jpeg"></div></figure><p name="26ff" id="26ff" class="graf graf--p graf-after--figure">I got the following error: “<strong class="markup--strong markup--p-strong">Invalid or corrupt jarfile /app.jar</strong>.” It’s all about encoding, so I’ll add those two properties to the <strong class="markup--strong markup--p-strong">pom.xml</strong>.</p><p name="2010" id="2010" class="graf graf--p graf-after--p">Now, it’s time to commit on GitHub. If you’re confused about writing useful commit messages, <a href="https://dev.to/jacobherrington/how-to-write-useful-commit-messages-my-commit-message-template-20n9" data-href="https://dev.to/jacobherrington/how-to-write-useful-commit-messages-my-commit-message-template-20n9" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">this article is for you</a>.</p><p name="d31c" id="d31c" class="graf graf--p graf-after--p">Before running the app again, it’s important to list all containers using <strong class="markup--strong markup--p-strong">docker ps</strong>.</p><p name="8229" id="8229" class="graf graf--p graf-after--p">Then check the “CONTAINER ID,” stop (<strong class="markup--strong markup--p-strong">docker stop “CONTAINER ID”</strong>), and remove it (<strong class="markup--strong markup--p-strong">docker rm “CONTAINER ID”</strong>) because it’s persisted, as explained by this post on <a href="https://spring.io/guides/gs/spring-boot-docker/" data-href="https://spring.io/guides/gs/spring-boot-docker/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Spring Boot with Docker</a>.</p><p name="fc92" id="fc92" class="graf graf--p graf-after--p">Then, we’ll run again the app to ensure that everything works well:</p><figure name="f1aa" id="f1aa" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 300px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 42.9%;"></div><img class="graf-image" data-image-id="1*jfJK-4fDSxHyAhem0GXabw.jpeg" data-width="1131" data-height="485" src="https://cdn-images-1.medium.com/max/800/1*jfJK-4fDSxHyAhem0GXabw.jpeg"></div></figure><figure name="5d63" id="5d63" class="graf graf--figure graf-after--figure"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 416px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 59.4%;"></div><img class="graf-image" data-image-id="1*drcuTtZUsY5qw_hD8iyxnw.jpeg" data-width="1447" data-height="859" src="https://cdn-images-1.medium.com/max/800/1*drcuTtZUsY5qw_hD8iyxnw.jpeg"></div></figure><p name="dc92" id="dc92" class="graf graf--p graf-after--figure">I was so happy when I solved this problem!</p><p name="6577" id="6577" class="graf graf--p graf-after--p">The core steps are now over. We’ve successfully implemented the CI/CD. Now, let’s add some useful tools!</p><h3 name="e41c" id="e41c" class="graf graf--h3 graf-after--p">Step 4: Add Codecov for Code Coverage</h3><p name="7a3a" id="7a3a" class="graf graf--p graf-after--h3">First, make sure you’ve updated the project on your computer.Click on <strong class="markup--strong markup--p-strong">Pull Origin.</strong></p><p name="8cde" id="8cde" class="graf graf--p graf-after--p">Copy the modified files which we’ll use in IDE from our GitHub folder and then paste them into our workspace. In this case, we’ll only copy and paste the <strong class="markup--strong markup--p-strong">pom.xml</strong>.</p><p name="413b" id="413b" class="graf graf--p graf-after--p">Don’t forget to refresh the project on STS 4 and do whatever it takes to include changes.</p><p name="67f2" id="67f2" class="graf graf--p graf-after--p">To better use this tool, we make some changes by adding a unit test.</p><p name="ce90" id="ce90" class="graf graf--p graf-after--p">First, create a new package — <strong class="markup--strong markup--p-strong">com.cicd.cicdappliedtospringbootjavaapp.controller.</strong></p><p name="50c8" id="50c8" class="graf graf--p graf-after--p">Secondly, create a new class <strong class="markup--strong markup--p-strong">HelloController.java </strong>and change <strong class="markup--strong markup--p-strong">CicdAppliedToSpringBootJavaAppApplication.java</strong> file.</p><p name="9936" id="9936" class="graf graf--p graf-after--p">Before running the app on your computer, you can skip the entire dockerfile plugin because the deployment will take place on the GitHub repository managed by Travis CI.</p><p name="af0f" id="af0f" class="graf graf--p graf-after--p">To do this, just add this option (<strong class="markup--strong markup--p-strong">-Ddockerfile.skip</strong>), as explained by <a href="https://github.com/spotify/dockerfile-maven/blob/master/docs/usage.md" data-href="https://github.com/spotify/dockerfile-maven/blob/master/docs/usage.md" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Spotify dockerfile-maven-plugin’s usage</a>, to your Maven command. Finally, we get <strong class="markup--strong markup--p-strong">mvn spring-boot:run -Ddockerfile.skip.</strong></p><p name="6a82" id="6a82" class="graf graf--p graf-after--p">Now, log in or sign up to <a href="https://codecov.io/" data-href="https://codecov.io/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Codecov</a> with GitHub.</p><p name="9126" id="9126" class="graf graf--p graf-after--p">Click on <strong class="markup--strong markup--p-strong">Account -&gt; Repositories -&gt; Add new repository</strong></p><p name="8ec1" id="8ec1" class="graf graf--p graf-after--p">Just choose your GitHub repository or follow this link <a href="https://codecov.io/gh/FanJups/GITHUB_REPOSITORY" data-href="https://codecov.io/gh/FanJups/GITHUB_REPOSITORY" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">https://codecov.io/gh/GITHUB_USERNAME/GITHUB_REPOSITORY</a>. But remember to replace <strong class="markup--strong markup--p-strong">GITHUB_REPOSITORY</strong> with <strong class="markup--strong markup--p-strong">cicd-applied-to-spring-boot-java-app</strong> and the <strong class="markup--strong markup--p-strong">GITHUB_USERNAME</strong> with yours.</p><figure name="e0d5" id="e0d5" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 305px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 43.6%;"></div><img class="graf-image" data-image-id="1*FAl2WXbEmqSlZlEbyIi4Yw.jpeg" data-width="1099" data-height="479" src="https://cdn-images-1.medium.com/max/800/1*FAl2WXbEmqSlZlEbyIi4Yw.jpeg"></div></figure><p name="85f8" id="85f8" class="graf graf--p graf-after--figure">Last time, we added two environment variables to Docker. Now, we added the Codecov environment variable: <strong class="markup--strong markup--p-strong">CODECOV_TOKEN</strong>, as well. Copy your token and add it to your Travis CI repository.</p><p name="ecc6" id="ecc6" class="graf graf--p graf-after--p">We made some changes to the <strong class="markup--strong markup--p-strong">pom.xml</strong> by adding the <strong class="markup--strong markup--p-strong">jacoco-maven-plugin.</strong></p><p name="a962" id="a962" class="graf graf--p graf-after--p">Go back to GitHub repository and we’ll edit <strong class="markup--strong markup--p-strong">.travis.yml</strong>.</p><h3 name="0d97" id="0d97" class="graf graf--h3 graf-after--p">What Time Is it? Codecov Badge Time!</h3><p name="fbf2" id="fbf2" class="graf graf--p graf-after--h3">Go to your Codecov repository and Click on <strong class="markup--strong markup--p-strong">Settings -&gt; Badge -&gt; Copy (from Markdown)</strong>.</p><p name="c00c" id="c00c" class="graf graf--p graf-after--p">Then, go to your GitHub repository and paste it into <strong class="markup--strong markup--p-strong">README.md.</strong></p><p name="293c" id="293c" class="graf graf--p graf-after--p">Finally, push your changes from your computer to GitHub.</p><p name="2f62" id="2f62" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Code Coverage: 60%</strong></p><p name="d51a" id="d51a" class="graf graf--p graf-after--p">Perhaps, you want to deactivate the coverage and activate it later. If so, go ahead and create a file named <strong class="markup--strong markup--p-strong">codecov.yml. </strong>Now, it’s useful to know coverage so I’ll comment each line with “#.”</p><p name="3ff7" id="3ff7" class="graf graf--p graf-after--p">If you wish to learn more, <a href="https://docs.codecov.io/docs/codecov-yaml" data-href="https://docs.codecov.io/docs/codecov-yaml" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">click here</a> to read the docs.</p><p name="d23c" id="d23c" class="graf graf--p graf-after--p">Now, on to step 5!</p><h3 name="f9da" id="f9da" class="graf graf--h3 graf-after--p">Step 5: Use <a href="https://sonarcloud.io/" data-href="https://sonarcloud.io/" class="markup--anchor markup--h3-anchor" rel="nofollow noopener" target="_blank">SonarCloud</a> to Write Great Code</h3><p name="1144" id="1144" class="graf graf--p graf-after--h3">To start, log in or sign up with GitHub.</p><p name="11c8" id="11c8" class="graf graf--p graf-after--p">Click on <strong class="markup--strong markup--p-strong">+ (Analyze new project or create new organization)</strong> <strong class="markup--strong markup--p-strong">-&gt;</strong> <strong class="markup--strong markup--p-strong">Analyze new project -&gt; Import another organization -&gt; Choose an organization on GitHub</strong></p><figure name="1989" id="1989" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 347px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 49.6%;"></div><img class="graf-image" data-image-id="1*DTbEvzskD8RLY7LGvWqcYw.jpeg" data-width="1116" data-height="553" src="https://cdn-images-1.medium.com/max/800/1*DTbEvzskD8RLY7LGvWqcYw.jpeg"></div></figure><p name="df1c" id="df1c" class="graf graf--p graf-after--figure">Next, make sure SonarCloud has access to your GitHub repository.</p><p name="48e6" id="48e6" class="graf graf--p graf-after--p">Now that we’re back to SonarCloud, choose a Key. I suggest using <strong class="markup--strong markup--p-strong">“cicd-applied-to-spring-boot-java-app”</strong> as the Key.</p><p name="da54" id="da54" class="graf graf--p graf-after--p">Then, click on <strong class="markup--strong markup--p-strong">Continue -&gt; Choose Free plan -&gt; Create Organization -&gt; Analyze new project -&gt; Select your GitHub repository -&gt; Set Up -&gt; With Travis CI -&gt; Provide and encrypt your token -&gt; Copy</strong></p><p name="371f" id="371f" class="graf graf--p graf-after--p">Go back to Travis CI and create a SonarCloud environment variable named <strong class="markup--strong markup--p-strong">SONAR_TOKEN. </strong>As a value, paste the token you’ve just copied.</p><p name="444d" id="444d" class="graf graf--p graf-after--p">Now, back to SonarCloud and click on <strong class="markup--strong markup--p-strong">Continue -&gt; Edit your .travis.yml file -&gt; Choose Maven as build technology -&gt; Configure your platform -&gt; Configure the scanner -&gt; Copy.</strong></p><p name="b1a2" id="b1a2" class="graf graf--p graf-after--p">I chose to write SonarCloud script under <strong class="markup--strong markup--p-strong">after_success</strong> instead of <strong class="markup--strong markup--p-strong">script</strong> because I focus on deployment here. You are free to place it where you want.</p><p name="a414" id="a414" class="graf graf--p graf-after--p">Also, create a file named <strong class="markup--strong markup--p-strong">sonar-project.properties </strong>and edit as follows: <strong class="markup--strong markup--p-strong">sonar.projectKey=GITHUBUSERNAME_cicd-applied-to-spring-boot-java-app</strong></p><p name="4c73" id="4c73" class="graf graf--p graf-after--p">Go back to SonarCloud and click on <strong class="markup--strong markup--p-strong">Finish.</strong></p><p name="ebdd" id="ebdd" class="graf graf--p graf-after--p">To end, we add a SonarCloud badge into <strong class="markup--strong markup--p-strong">README.md.</strong></p><p name="cef7" id="cef7" class="graf graf--p graf-after--p">To get the badge for another project, use <strong class="markup--strong markup--p-strong">groupId:artifactId.</strong></p><p name="4e53" id="4e53" class="graf graf--p graf-after--p">Here’s the SonarCloud badge already added:</p><figure name="9427" id="9427" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 298px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 42.5%;"></div><img class="graf-image" data-image-id="1*pjx6CZybfv67lQKqpDbuIQ.jpeg" data-width="887" data-height="377" src="https://cdn-images-1.medium.com/max/800/1*pjx6CZybfv67lQKqpDbuIQ.jpeg"></div></figure><p name="b9e3" id="b9e3" class="graf graf--p graf-after--figure">Now, on to step 6!</p><h3 name="9739" id="9739" class="graf graf--h3 graf-after--p">Step 6: Build a Project Site Using the GitHub site-maven-plugin</h3><p name="0655" id="0655" class="graf graf--p graf-after--h3">To get started, open <strong class="markup--strong markup--p-strong">pom.xml</strong> on your computer. We add:</p><p name="60fd" id="60fd" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">1) OAuth token and GitHub servers as properties</strong></p><p name="f1cd" id="f1cd" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">2) org.apache.maven.plugins:maven-site-plugin</strong></p><p name="5071" id="5071" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">3)</strong> <strong class="markup--strong markup--p-strong">com.github.github:site-maven-plugin</strong></p><p name="d5f3" id="d5f3" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">4) org.apache.maven.plugins:maven-project-info-reports-plugin</strong></p><p name="d000" id="d000" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">5) developers section</strong></p><p name="c298" id="c298" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">6) organization section</strong></p><p name="48da" id="48da" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">7) issueManagement section</strong></p><p name="6eba" id="6eba" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">8) Software Configuration Management (SCM) section</strong></p><p name="c6f2" id="c6f2" class="graf graf--p graf--startsWithDoubleQuote graf-after--p"><em class="markup--em markup--p-em">“The important configuration is to allow the OAuth token to be read from an environment variable (excerpt from pom.xml)”</em> as explained by <a href="https://blog.lanyonm.org/articles/2015/12/19/publish-maven-site-github-pages-travis-ci.html" data-href="https://blog.lanyonm.org/articles/2015/12/19/publish-maven-site-github-pages-travis-ci.html" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Michael Lanyon’s blog</a>. <em class="markup--em markup--p-em">“To create the token, follow these </em><a href="https://help.github.com/en/articles/creating-a-personal-access-token-for-the-command-line" data-href="https://help.github.com/en/articles/creating-a-personal-access-token-for-the-command-line" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank"><em class="markup--em markup--p-em">instructions</em></a><em class="markup--em markup--p-em">”.</em></p><p name="af35" id="af35" class="graf graf--p graf-after--p">Copy the token, then create a new environment variable named <strong class="markup--strong markup--p-strong">GITHUB_OAUTH_TOKEN.</strong></p><p name="02a7" id="02a7" class="graf graf--p graf-after--p">Push <strong class="markup--strong markup--p-strong">pom.xml</strong> to GitHub and edit <strong class="markup--strong markup--p-strong">.travis.yml</strong> by adding <strong class="markup--strong markup--p-strong"><em class="markup--em markup--p-em">“- mvn site”</em></strong> under <strong class="markup--strong markup--p-strong">after_success</strong>.</p><p name="d33a" id="d33a" class="graf graf--p graf-after--p">After pushing all changes,<strong class="markup--strong markup--p-strong"> gh-pages branch and project site are created. </strong>Each time you push, the site will be updated if necessary.</p><figure name="6222" id="6222" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 371px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 53%;"></div><img class="graf-image" data-image-id="1*XvqyHzrTMqrK3N6JdKluSg.jpeg" data-width="919" data-height="487" src="https://cdn-images-1.medium.com/max/800/1*XvqyHzrTMqrK3N6JdKluSg.jpeg"></div></figure><p name="11c0" id="11c0" class="graf graf--p graf-after--figure">To see the site, click on <strong class="markup--strong markup--p-strong">environment -&gt; View deployment (under Deployed to github-pages).</strong></p><figure name="c1a9" id="c1a9" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 315px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 45%;"></div><img class="graf-image" data-image-id="1*ErM0qPShym9WU-dbXrWJ3g.jpeg" data-width="1919" data-height="863" src="https://cdn-images-1.medium.com/max/800/1*ErM0qPShym9WU-dbXrWJ3g.jpeg"></div></figure><p name="d61f" id="d61f" class="graf graf--p graf-after--figure">Ok, great. Now, let’s move on to step 7!</p><h3 name="1f58" id="1f58" class="graf graf--h3 graf-after--p">Step 7: Deploy the App on Heroku Using heroku-maven-plugin</h3><p name="9f28" id="9f28" class="graf graf--p graf-after--h3">Here we go! Log in or sign up for <a href="https://www.heroku.com/" data-href="https://www.heroku.com/" class="markup--anchor markup--p-anchor" rel="nofollow noopener" target="_blank">Heroku</a>.</p><p name="9340" id="9340" class="graf graf--p graf-after--p">Click on <strong class="markup--strong markup--p-strong">New -&gt; Create new app. </strong>To continue, enter an app name (<strong class="markup--strong markup--p-strong">cicd-spring-boot-java-app</strong>). <strong class="markup--strong markup--p-strong">cicd-applied-to-spring-boot-java-app</strong> is too long as an app name. Choose a region and click <strong class="markup--strong markup--p-strong">Create app</strong>.</p><p name="3ad8" id="3ad8" class="graf graf--p graf-after--p">Next, click <strong class="markup--strong markup--p-strong">Connect to GitHub.</strong></p><p name="6188" id="6188" class="graf graf--p graf-after--p">Search the GitHub repository. Once you find it, click <strong class="markup--strong markup--p-strong">Connect.</strong></p><p name="eb64" id="eb64" class="graf graf--p graf-after--p">Check<strong class="markup--strong markup--p-strong"> Wait for CI to pass before deploy.</strong></p><p name="df33" id="df33" class="graf graf--p graf-after--p">Click <strong class="markup--strong markup--p-strong">Enable Automatic Deploys.</strong></p><p name="497b" id="497b" class="graf graf--p graf-after--p">Go to<strong class="markup--strong markup--p-strong"> Account settings.</strong></p><p name="a914" id="a914" class="graf graf--p graf-after--p">Copy your API KEY and create a new Travis CI environment variable named <strong class="markup--strong markup--p-strong">HEROKU_API_KEY. </strong>This the last environment variable linked to this project.</p><p name="9ef9" id="9ef9" class="graf graf--p graf-after--p">It’s time to edit pom.xml and push to GitHub. We add:</p><p name="279b" id="279b" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">1)</strong> <strong class="markup--strong markup--p-strong">full-artifact-name as a property</strong></p><p name="475b" id="475b" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">2) com.heroku.sdk:heroku-maven-plugin</strong></p><p name="a022" id="a022" class="graf graf--p graf-after--p">Now, we focus on <strong class="markup--strong markup--p-strong">.travis.yml.</strong></p><ol class="postList"><li name="0684" id="0684" class="graf graf--li graf-after--p">To deploy on Docker Hub, we used <strong class="markup--strong markup--li-strong"><em class="markup--em markup--li-em">mvn deploy</em></strong>.</li><li name="2119" id="2119" class="graf graf--li graf-after--li">To deploy on Heroku, we’ll use <strong class="markup--strong markup--li-strong"><em class="markup--em markup--li-em">mvn heroku:deploy</em></strong>.</li><li name="d418" id="d418" class="graf graf--li graf-after--li">In order to deploy on Docker and Heroku, we’ll repeat the deploy phase twice, and risk exceeding timeout.</li><li name="5ba5" id="5ba5" class="graf graf--li graf-after--li">To avoid that, we’ll only use <strong class="markup--strong markup--li-strong"><em class="markup--em markup--li-em">mvn heroku:deploy.</em></strong></li></ol><figure name="c91c" id="c91c" class="graf graf--figure graf-after--li"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 427px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 61%;"></div><img class="graf-image" data-image-id="1*mKbOfHgHQv5AsUwZiH2sGg.jpeg" data-width="1483" data-height="905" src="https://cdn-images-1.medium.com/max/800/1*mKbOfHgHQv5AsUwZiH2sGg.jpeg"></div></figure><h3 name="5a63" id="5a63" class="graf graf--h3 graf-after--figure">Conclusion</h3><p name="75e0" id="75e0" class="graf graf--p graf-after--h3">Congratulations! You’re all done. To sum things up, you learned how to implement CI/CD on a Spring Boot Java app using <strong class="markup--strong markup--p-strong">Maven</strong>, <strong class="markup--strong markup--p-strong">GitHub</strong>, <strong class="markup--strong markup--p-strong">Travis CI</strong>, <strong class="markup--strong markup--p-strong">Docker</strong>, <strong class="markup--strong markup--p-strong">Codecov</strong>, <strong class="markup--strong markup--p-strong">SonarCloud,</strong> and <strong class="markup--strong markup--p-strong">Heroku</strong>. This is a template you are free to use.</p><p name="c54f" id="c54f" class="graf graf--p graf-after--p">If you’re confused, please ask in the comments. I also suggest reading the docs available, as many times as necessary.</p><p name="933e" id="933e" class="graf graf--p graf-after--p graf--trailing">The code is available<a href="https://github.com/DimuthuKasunWP/cicd-applied-to-spring-boot-java-app/" data-href="https://github.com/DimuthuKasunWP/cicd-applied-to-spring-boot-java-app/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"> here</a>. So just fork, it’s all yours!</p></div></div></section>
</section>
</article></body></html>