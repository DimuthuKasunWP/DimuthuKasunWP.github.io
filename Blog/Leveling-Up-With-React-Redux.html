<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"><title>Leveling Up With React-Redux</title><style>
      * {
        font-family: Georgia, Cambria, "Times New Roman", Times, serif;
      }
      html, body {
        margin: 0;
        padding: 0;
      }
      h1 {
        font-size: 50px;
        margin-bottom: 17px;
        color: #333;
      }
      h2 {
        font-size: 24px;
        line-height: 1.6;
        margin: 30px 0 0 0;
        margin-bottom: 18px;
        margin-top: 33px;
        color: #333;
      }
      h3 {
        font-size: 30px;
        margin: 10px 0 20px 0;
        color: #333;
      }
      header {
        width: 640px;
        margin: auto;
      }
      section {
        width: 640px;
        margin: auto;
      }
      section p {
        margin-bottom: 27px;
        font-size: 20px;
        line-height: 1.6;
        color: #333;
      }
      section img {
        max-width: 640px;
      }
      footer {
        padding: 0 20px;
        margin: 50px 0;
        text-align: center;
        font-size: 12px;
      }
      .aspectRatioPlaceholder {
        max-width: auto !important;
        max-height: auto !important;
      }
      .aspectRatioPlaceholder-fill {
        padding-bottom: 0 !important;
      }
      header,
      section[data-field=subtitle],
      section[data-field=description] {
        display: none;
      }
      </style></head><body><article class="h-entry">
<header>
<h1 class="p-name">Leveling Up With React-Redux</h1>
</header>
<section data-field="subtitle" class="p-summary">
Do you have experience using React? Have you heard of Redux, but you’ve put off learning it because it looks very complicated and all the…
</section>
<section data-field="body" class="e-content">
<section name="157e" class="section section--body section--first section--last"><div class="section-divider"><hr class="section-divider"></div><div class="section-content"><div class="section-inner sectionLayout--insetColumn"><h3 name="b8ae" id="b8ae" class="graf graf--h3 graf--leading graf--title">Leveling Up With React-Redux</h3><figure name="7d83" id="7d83" class="graf graf--figure graf-after--h3"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 331px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 47.3%;"></div><img class="graf-image" data-image-id="1*oJ3AJ3ZETfVlb0bYG7l9lw.png" data-width="800" data-height="378" data-is-featured="true" src="https://cdn-images-1.medium.com/max/800/1*oJ3AJ3ZETfVlb0bYG7l9lw.png"></div></figure><p name="d5f2" id="d5f2" class="graf graf--p graf-after--figure">Do you have experience using <a href="https://reactjs.org/" data-href="https://reactjs.org/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">React</a>? Have you heard of <a href="https://redux.js.org/" data-href="https://redux.js.org/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Redux</a>, but you’ve put off learning it because it looks very complicated and all the guides seem overwhelming? If that’s the case, this is the article for you! Contain your fear of containing state and come along with me on this relatively painless journey.</p><h4 name="73b7" id="73b7" class="graf graf--h4 graf-after--p">Prerequisites</h4><p name="e624" id="e624" class="graf graf--p graf-after--h4">You must already know how to use React for this tutorial, as I will not be explaining any aspects of React itself.</p><ul class="postList"><li name="7f6c" id="7f6c" class="graf graf--li graf-after--p">Familiarity with HTML &amp; CSS.</li><li name="0cf7" id="0cf7" class="graf graf--li graf-after--li">Familiarity with ES6 syntax and features.</li><li name="dd3e" id="dd3e" class="graf graf--li graf-after--li">Knowledge of React terminology: JSX, State, Components, Props, Lifecycle and Hooks</li><li name="ca39" id="ca39" class="graf graf--li graf-after--li">Knowledge of React Router</li><li name="e91b" id="e91b" class="graf graf--li graf-after--li">Knowledge of asynchronous JavaScript and making API calls</li></ul><p name="78c8" id="78c8" class="graf graf--p graf-after--li">Also, download Redux DevTools for Chrome or for FireFox.</p><h4 name="c987" id="c987" class="graf graf--h4 graf-after--p">Goals</h4><p name="dfb7" id="dfb7" class="graf graf--p graf-after--h4">In this tutorial, we will build a small blog app. It will fetch posts and comments from an API. I’ve created the same app with both plain Redux, and <a href="https://redux-toolkit.js.org/" data-href="https://redux-toolkit.js.org/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Redux Toolkit</a> (RTK), the officially sanctioned toolset for Redux. Here are the links to the source and demos of both the plain and RTK versions.</p><blockquote name="6594" id="6594" class="graf graf--blockquote graf--hasDropCapModel graf-after--p">Note: The applications are pulling from a real API via <a href="https://jsonplaceholder.typicode.com/" data-href="https://jsonplaceholder.typicode.com/" class="markup--anchor markup--blockquote-anchor" rel="noopener" target="_blank">JSON Placeholder API</a>. Due to the rate limiting on CodeSandbox, the API may appear slow, but it has nothing to do with the Redux application itself. You can also clone the repository locally.</blockquote><p name="7c50" id="7c50" class="graf graf--p graf-after--blockquote">We will learn:</p><ul class="postList"><li name="1de9" id="1de9" class="graf graf--li graf-after--p">What is Redux and why you might want to use it</li><li name="b2fb" id="b2fb" class="graf graf--li graf-after--li">The terminology of Redux: actions, reducers, store, dispatch, connect, and container</li><li name="5f11" id="5f11" class="graf graf--li graf-after--li">Making asynchronous API calls with <a href="https://github.com/reduxjs/redux-thunk" data-href="https://github.com/reduxjs/redux-thunk" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Redux Thunk</a></li><li name="7577" id="7577" class="graf graf--li graf-after--li">How to make a small, real-world application with React and Redux</li><li name="63d2" id="63d2" class="graf graf--li graf-after--li">How to use Redux Toolkit to simplify Redux app development</li></ul><h3 name="3da7" id="3da7" class="graf graf--h3 graf-after--li">What is Redux?</h3><p name="8c61" id="8c61" class="graf graf--p graf-after--h3">Redux is a state container for JavaScript applications. Normally with React, you manage state at a component level, and pass state around via props. With Redux, the entire state of your application is managed in one immutable object. Every update to the Redux state results in a copy of sections of the state, plus the new change.</p><p name="fcf6" id="fcf6" class="graf graf--p graf-after--p">Redux was originally created by <a href="https://overreacted.io/" data-href="https://overreacted.io/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Dan Abramov</a> and <a href="https://github.com/acdlite" data-href="https://github.com/acdlite" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Andrew Clark</a>.\</p><h3 name="d3ea" id="d3ea" class="graf graf--h3 graf-after--p">Why should I use Redux?</h3><ul class="postList"><li name="6bfc" id="6bfc" class="graf graf--li graf-after--h3">Easily manage global state — access or update any part of the state from any Redux-connected component</li><li name="df79" id="df79" class="graf graf--li graf-after--li">Easily keep track of changes with Redux DevTools — any action or state change is tracked and easy to follow with Redux. The fact that the entire state of the application is tracked with each change means you can easily do time-travel debugging to move back and forth between changes.</li></ul><p name="f6ad" id="f6ad" class="graf graf--p graf-after--li">The downside to Redux is that there’s a lot of initial boilerplate to set up and maintain (especially if you use plain Redux without Redux Toolkit). A smaller application may not need Redux and may instead benefit from simply using the Context API for global state needs.</p><p name="c0f9" id="c0f9" class="graf graf--p graf-after--p">In my personal experience, I set up an application with Context alone, and later needed to convert everything over to Redux to make it more maintainable and organized.</p><h3 name="2b29" id="2b29" class="graf graf--h3 graf-after--p">Terminology</h3><p name="9bd8" id="9bd8" class="graf graf--p graf-after--h3">Usually, I don’t like to just make a list of terms and definitions, but Redux has a few that are likely unfamiliar, so I’m just going to define them all upfront to make it easy to refer back to them. Although you can skip to the beginning of the tutorial section, I think it would be good to read through all the definitions just to get exposure and an idea of them in your head first.</p><ul class="postList"><li name="b773" id="b773" class="graf graf--li graf-after--p">Actions</li><li name="a78d" id="a78d" class="graf graf--li graf-after--li">Reducers</li><li name="306d" id="306d" class="graf graf--li graf-after--li">Store</li><li name="7e5a" id="7e5a" class="graf graf--li graf-after--li">Dispatch</li><li name="70c6" id="70c6" class="graf graf--li graf-after--li">Connect</li></ul><p name="a7b8" id="a7b8" class="graf graf--p graf-after--li">I’ll just use the typical todo application, and the action of deleting a todo, for the examples.</p><h3 name="583a" id="583a" class="graf graf--h3 graf-after--p">Actions</h3><p name="ded4" id="ded4" class="graf graf--p graf-after--h3">An action sends data from your application to the Redux store. An action is conventionally an object with two properties: <code class="markup--code markup--p-code">type</code> and (optional) <code class="markup--code markup--p-code">payload</code>. The type is generally an uppercase string (assigned to a constant) that describes the action. The payload is additional data that may be passed.</p><p name="b337" id="b337" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Action Type</strong></p><pre name="70f7" id="70f7" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">const DELETE_TODO = &#39;DELETE_TODO&#39;</code></pre><p name="bfd0" id="bfd0" class="graf graf--p graf-after--pre"><strong class="markup--strong markup--p-strong">Action</strong></p><pre name="6ce7" id="6ce7" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">{<br>  type: DELETE_TODO,<br>  payload: id,<br>}</code></pre><h3 name="863c" id="863c" class="graf graf--h3 graf-after--pre">Action creators</h3><p name="6eab" id="6eab" class="graf graf--p graf-after--h3">An action creator is a function that returns an action.</p><p name="df96" id="df96" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Action Creator</strong></p><pre name="e02d" id="e02d" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">const deleteTodo = id =&gt; ({ type: DELETE_TODO, payload: id })</code></pre><h3 name="9635" id="9635" class="graf graf--h3 graf-after--pre">Reducers</h3><p name="5179" id="5179" class="graf graf--p graf-after--h3">A reducer is a function that takes two parameters: <code class="markup--code markup--p-code">state</code> and <code class="markup--code markup--p-code">action</code>. A reducer is immutable and always returns a copy of the entire state. A reducer typically consists of a <code class="markup--code markup--p-code">switch</code> statement that goes through all the possible action types.</p><p name="ba0c" id="ba0c" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Reducer</strong></p><pre name="df77" id="df77" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">const initialState = {<br>  todos: [<br>    { id: 1, text: &#39;Eat&#39; },<br>    { id: 2, text: &#39;Sleep&#39; },<br>  ],<br>  loading: false,<br>  hasErrors: false,<br>}</code></pre><pre name="5e69" id="5e69" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">function todoReducer(state = initialState, action) {<br>  switch (action.type) {<br>    case DELETE_TODO:<br>      return {<br>        ...state,<br>        todos: state.todos.filter(todo =&gt; todo.id !== action.payload),<br>      }<br>    default:<br>      return state<br>  }<br>}</code></pre><h3 name="bd3d" id="bd3d" class="graf graf--h3 graf-after--pre">Store</h3><p name="2199" id="2199" class="graf graf--p graf-after--h3">The Redux application state lives in the store, which is initialized with a reducer. When used with React, a <code class="markup--code markup--p-code">&lt;Provider&gt;</code> exists to wrap the application, and anything within the Provider can have access to Redux.</p><p name="5a37" id="5a37" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">Store</strong></p><pre name="703e" id="703e" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">import { createStore } from &#39;redux&#39;<br>import { Provider } from &#39;react-redux&#39;<br>import reducer from &#39;./reducers&#39;</code></pre><pre name="ff9c" id="ff9c" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">const store = createStore(reducer)</code></pre><pre name="05c4" id="05c4" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">render(<br>  &lt;Provider store={store}&gt;<br>    &lt;App /&gt;<br>  &lt;/Provider&gt;,<br>  document.getElementById(&#39;root&#39;)<br>)</code></pre><h3 name="5f3b" id="5f3b" class="graf graf--h3 graf-after--pre">Dispatch</h3><p name="81c0" id="81c0" class="graf graf--p graf-after--h3"><code class="markup--code markup--p-code">dispatch</code> is a method available on the store object that accepts an object which is used to update the Redux state. Usually, this object is the result of invoking an action creator.</p><pre name="0a07" id="0a07" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">const Component = ({ dispatch }) =&gt; {<br>  useEffect(() =&gt; {<br>    dispatch(deleteTodo())<br>  }, [dispatch])<br>}</code></pre><h3 name="0500" id="0500" class="graf graf--h3 graf-after--pre">Connect</h3><p name="e0ce" id="e0ce" class="graf graf--p graf-after--h3">The <code class="markup--code markup--p-code">connect()</code> function is one typical way to connect React to Redux. A connected component is sometimes referred to as a container.</p><p name="7276" id="7276" class="graf graf--p graf-after--p">Okay, that about covers it for the major terms of Redux. It can be overwhelming to read the terminology without any context, so let’s begin.</p><h3 name="6548" id="6548" class="graf graf--h3 graf-after--p">Getting Started</h3><p name="3480" id="3480" class="graf graf--p graf-after--h3">For ease of getting started quickly, my example uses <a href="https://reactjs.org/docs/create-a-new-react-app.html" data-href="https://reactjs.org/docs/create-a-new-react-app.html" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Create React App</a> to set up the environment.</p><pre name="6063" id="6063" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">npx create-react-app redux-tutorial<br>cd redux-tutorial</code></pre><p name="97af" id="97af" class="graf graf--p graf-after--pre">Redux requires a few dependencies.</p><ul class="postList"><li name="7c49" id="7c49" class="graf graf--li graf-after--p"><a href="https://github.com/reduxjs/redux" data-href="https://github.com/reduxjs/redux" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Redux</a> — Core library</li><li name="af52" id="af52" class="graf graf--li graf-after--li"><a href="https://github.com/reduxjs/react-redux" data-href="https://github.com/reduxjs/react-redux" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">React Redux</a> — React bindings for Redux</li><li name="e8c4" id="e8c4" class="graf graf--li graf-after--li"><a href="https://github.com/reduxjs/redux-thunk" data-href="https://github.com/reduxjs/redux-thunk" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Redux Thunk</a> — Async middleware for Redux</li><li name="e581" id="e581" class="graf graf--li graf-after--li"><a href="https://github.com/reduxjs/redux-devtools-extension" data-href="https://github.com/reduxjs/redux-devtools-extension" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">Redux DevTools Extension</a> — Connects Redux app to Redux DevTools</li></ul><p name="bbda" id="bbda" class="graf graf--p graf-after--li">You can <code class="markup--code markup--p-code">yarn add</code> or <code class="markup--code markup--p-code">npm i</code> them, and I&#39;ll be using <code class="markup--code markup--p-code">react-router-dom</code> as well, but that&#39;s it for extra dependencies.</p><pre name="d3f3" id="d3f3" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">yarn add \ # or npm i<br>redux \<br>react-redux \<br>redux-thunk \<br>redux-devtools-extension \<br>react-router-dom</code></pre><p name="86fa" id="86fa" class="graf graf--p graf-after--pre">And delete all the boilerplate. We’ll add everything we need from scratch instead.</p><pre name="4bde" id="4bde" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code"># move to src and delete all files within<br>cd src &amp;&amp; rm *</code></pre><p name="1b09" id="1b09" class="graf graf--p graf-after--pre">We&#39;ll make directories for Redux <code class="markup--code markup--p-code"><a href="https://www.taniarascia.com/redux-react-guide/#reducers" data-href="https://www.taniarascia.com/redux-react-guide/#reducers" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">reducers</a></code> and Redux <code class="markup--code markup--p-code"><a href="https://www.taniarascia.com/redux-react-guide/#actions" data-href="https://www.taniarascia.com/redux-react-guide/#actions" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">actions</a></code>, as well as <code class="markup--code markup--p-code">pages</code> and <code class="markup--code markup--p-code">components</code> which you should already be familiar with from React.</p><pre name="08d5" id="08d5" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">mkdir actions components pages reducers</code></pre><p name="6973" id="6973" class="graf graf--p graf-after--pre">And we&#39;ll bring back <code class="markup--code markup--p-code">index.js</code>, <code class="markup--code markup--p-code">App.js</code>, and <code class="markup--code markup--p-code">index.css</code>.</p><pre name="cce2" id="cce2" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">touch index.js index.css App.js</code></pre><p name="ad66" id="ad66" class="graf graf--p graf-after--pre">So at this point your project directory tree looks like this.</p><pre name="36b4" id="36b4" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">└── src/<br>    ├── actions/<br>    ├── components/<br>    ├── pages/<br>    ├── reducers/<br>    ├── App.js<br>    ├── index.css<br>    └── index.js</code></pre><p name="3b89" id="3b89" class="graf graf--p graf-after--pre">For the <code class="markup--code markup--p-code">index.css</code> file, just take the contents of <a href="https://gist.githubusercontent.com/taniarascia/b0ca2e2c165390f8678e1346514e143d/raw/bed873301fd1c71261a05ec02ca152d908f49463/index.css" data-href="https://gist.githubusercontent.com/taniarascia/b0ca2e2c165390f8678e1346514e143d/raw/bed873301fd1c71261a05ec02ca152d908f49463/index.css" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">this gist</a> and paste it. I intend only to go over functionality and not anything about style, so I just wrote some very basic styles to ensure the site looks decent enough.</p><p name="a500" id="a500" class="graf graf--p graf-after--p">Now we have enough boilerplate to get started, so we&#39;ll begin working on the entry-point.</p><h3 name="3cf9" id="3cf9" class="graf graf--h3 graf-after--p">Setting up the Redux Store</h3><p name="3248" id="3248" class="graf graf--p graf-after--h3">When I first started learning Redux, it seemed so overwhelming because every app I looked at had <code class="markup--code markup--p-code">index.js</code> set up a bit differently. After looking at a lot of the more up-to-date apps and taking the aspects that were common across all of them, I got a good feel for what should really be in a Redux app, and what is just people moving things around to be unique.</p><p name="36b1" id="36b1" class="graf graf--p graf-after--p">There are plenty of tutorials out there that show you how to get a very basic Redux store with todos set up, but I don’t find that very useful for knowing how to make a production level setup, so I’m going to set it up with everything you need from the get-go. Even so, there will be some opinionated aspects because Redux is very flexible.</p><p name="3528" id="3528" class="graf graf--p graf-after--p">In <code class="markup--code markup--p-code">index.js</code>, we&#39;ll be bringing in a few things.</p><ul class="postList"><li name="daee" id="daee" class="graf graf--li graf-after--p"><code class="markup--code markup--li-code">createStore</code>, to create the store that will maintain the Redux state</li><li name="79a7" id="79a7" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">applyMiddleware</code>, to be able to use middleware, in this case <code class="markup--code markup--li-code">thunk</code></li><li name="52ba" id="52ba" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">Provider</code>, to wrap the entire application in Redux</li><li name="4bce" id="4bce" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">thunk</code>, a middleware that allows us to make asynchronous actions in Redux</li><li name="d007" id="d007" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">composeWithDevTools</code>, code that connects your app to Redux DevTools</li></ul><p name="6d7d" id="6d7d" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">index.js</strong></p><pre name="c84f" id="c84f" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">// External imports<br>import React from &#39;react&#39;<br>import { render } from &#39;react-dom&#39;<br>import { createStore, applyMiddleware } from &#39;redux&#39;<br>import { Provider } from &#39;react-redux&#39;<br>import thunk from &#39;redux-thunk&#39;<br>import { composeWithDevTools } from &#39;redux-devtools-extension&#39;</code></pre><pre name="750d" id="750d" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">// Local imports<br>import App from &#39;./App&#39;<br>import rootReducer from &#39;./reducers&#39;</code></pre><pre name="c62b" id="c62b" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">// Assets<br>import &#39;./index.css&#39;</code></pre><pre name="301a" id="301a" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">const store = createStore(rootReducer, composeWithDevTools(applyMiddleware(thunk)))</code></pre><pre name="2320" id="2320" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">render(<br>  &lt;Provider store={store}&gt;<br>    &lt;App /&gt;<br>  &lt;/Provider&gt;,<br>  document.getElementById(&#39;root&#39;)<br>)</code></pre><p name="073a" id="073a" class="graf graf--p graf-after--pre">Put a component in <code class="markup--code markup--p-code">App.js</code>. We&#39;ll modify this later, but we just want to get the app up and running for now.</p><p name="5ab3" id="5ab3" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">App.js</strong></p><pre name="3cb6" id="3cb6" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">import React from &#39;react&#39;</code></pre><pre name="1856" id="1856" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">const App = () =&gt; {<br>  return &lt;div&gt;Hello, Redux&lt;/div&gt;<br>}</code></pre><pre name="d800" id="d800" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">export default App</code></pre><h3 name="7be1" id="7be1" class="graf graf--h3 graf-after--pre">Bringing in reducers</h3><p name="5be9" id="5be9" class="graf graf--p graf-after--h3">The last thing to do is bring in the reducer. A reducer is a function that determines changes to Redux state. It is a pure function that returns a copy of the state with the new change.</p><p name="c5a5" id="c5a5" class="graf graf--p graf-after--p">A neat feature of Redux is that we can have many reducers, and combine them all into one root reducer that the store uses, using <code class="markup--code markup--p-code">combineReducers</code>. This leads to us being able to easily organize our code while still having everything in one root state tree.</p><p name="fef2" id="fef2" class="graf graf--p graf-after--p">Since this app will be like a blog, it will have a list of posts, and we’ll put that in the <code class="markup--code markup--p-code">postsReducer</code> in a moment. Having this <code class="markup--code markup--p-code">combineReducers</code> method allows us to bring whatever we want in - a <code class="markup--code markup--p-code">commentsReducer</code>, an <code class="markup--code markup--p-code">authReducer</code>, and so on.</p><p name="e4d5" id="e4d5" class="graf graf--p graf-after--p">In <code class="markup--code markup--p-code">reducers/index.js</code>, create the file that will combine all reducers.</p><p name="a950" id="a950" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">reducers/index.js</strong></p><pre name="ee77" id="ee77" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">import { combineReducers } from &#39;redux&#39;</code></pre><pre name="b764" id="b764" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">import postsReducer from &#39;./postsReducer&#39;</code></pre><pre name="bb60" id="bb60" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">const rootReducer = combineReducers({<br>  posts: postsReducer,<br>})</code></pre><pre name="843a" id="843a" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">export default rootReducer</code></pre><p name="9e96" id="9e96" class="graf graf--p graf-after--pre">Finally, we’ll make the <code class="markup--code markup--p-code">postsReducer</code>. We can set it up with an initial state. Just like you might expect from a regular React component, we&#39;ll have a <code class="markup--code markup--p-code">loading</code> and <code class="markup--code markup--p-code">hasErrors</code> state, as well as a <code class="markup--code markup--p-code">posts</code> array, where all the posts will live. First we&#39;ll set it up with no actions in the switch, just a default case that returns the entire state.</p><p name="c5a2" id="c5a2" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">reducers/postsReducer.js</strong></p><pre name="b99b" id="b99b" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">export const initialState = {<br>  posts: [],<br>  loading: false,<br>  hasErrors: false,<br>}</code></pre><pre name="963a" id="963a" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">export default function postsReducer(state = initialState, action) {<br>  switch (action.type) {<br>    default:<br>      return state<br>  }<br>}</code></pre><p name="9f85" id="9f85" class="graf graf--p graf-after--pre">Now we at least have enough setup that the application will load without crashing.</p><h3 name="dfdd" id="dfdd" class="graf graf--h3 graf-after--p">Redux DevTools</h3><p name="7d2e" id="7d2e" class="graf graf--p graf-after--h3">With the application loading and the Redux <code class="markup--code markup--p-code">&lt;Provider&gt;</code> set up, we can take a look at Redux DevTools. After downloading it, it&#39;ll be a tab in your Developer Tools. If you click on State, you&#39;ll see the entire state of the application so far.</p><figure name="e2c8" id="e2c8" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 700px; max-height: 362px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 51.7%;"></div><img class="graf-image" data-image-id="1*GGab6RNrrwiLKcv7pvD8Kg.jpeg" data-width="835" data-height="432" src="https://cdn-images-1.medium.com/max/800/1*GGab6RNrrwiLKcv7pvD8Kg.jpeg"></div></figure><p name="14a3" id="14a3" class="graf graf--p graf-after--figure">There’s not much in here yet, but Redux DevTools is amazing once you get to having a lot of reducers and actions. It keeps track of all changes to your app and makes debugging a breeze compared to plain React.</p><h3 name="4de9" id="4de9" class="graf graf--h3 graf-after--p">Setting up Redux Actions</h3><p name="e54e" id="e54e" class="graf graf--p graf-after--h3">So now we have a reducer for posts, but we don’t have any actions, meaning the reducer will only return the state without modifying it in any way. Actions are how we communicate with the Redux store. For this blog app, we’re going to want to fetch posts from an API and put them in our Redux state.</p><p name="439d" id="439d" class="graf graf--p graf-after--p">Since fetching posts is an asynchronous action, it will require the use of Redux thunk. Fortunately, we don’t have to do anything special to use thunk beyond setting it up in the store, which we already did.</p><p name="ed6f" id="ed6f" class="graf graf--p graf-after--p">Create a <code class="markup--code markup--p-code">actions/postsActions.js</code>. First, we&#39;ll define the action types as constants. This is not necessary, but is a common convention, and makes it easy to export the actions around and prevent typos. We want to do three things:</p><ul class="postList"><li name="ec10" id="ec10" class="graf graf--li graf-after--p"><code class="markup--code markup--li-code">getPosts</code> - begin telling Redux we&#39;re going to fetch posts from an API</li><li name="3692" id="3692" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">getPostsSuccess</code> - pass the posts to Redux on successful API call</li><li name="cf11" id="cf11" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">getPostsFailure</code> - inform Redux that an error was encountered during Redux on failed API call</li></ul><p name="ae24" id="ae24" class="graf graf--p graf-after--li"><strong class="markup--strong markup--p-strong">actions/postsActions.js</strong></p><pre name="fbc1" id="fbc1" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">// Create Redux action types<br>export const GET_POSTS = &#39;GET POSTS&#39;<br>export const GET_POSTS_SUCCESS = &#39;GET_POSTS_SUCCESS&#39;<br>export const GET_POSTS_FAILURE = &#39;GET_POSTS_FAILURE&#39;</code></pre><p name="c7be" id="c7be" class="graf graf--p graf-after--pre">Then create action creators, functions that return an action, which consists of the type and an optional payload containing data.</p><p name="1c39" id="1c39" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">actions/postsActions.js</strong></p><pre name="a1e1" id="a1e1" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">// Create Redux action creators that return an action<br>export const getPosts = () =&gt; ({<br>  type: GET_POSTS,<br>})</code></pre><pre name="0f23" id="0f23" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">export const getPostsSuccess = posts =&gt; ({<br>  type: GET_POSTS_SUCCESS,<br>  payload: posts,<br>})</code></pre><pre name="1190" id="1190" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">export const getPostsFailure = () =&gt; ({<br>  type: GET_POSTS_FAILURE,<br>})</code></pre><p name="aba7" id="aba7" class="graf graf--p graf-after--pre">Finally, make the asynchronous thunk action that combines all three of the above actions. When called, it will dispatch the initial <code class="markup--code markup--p-code">getPosts()</code> action to inform Redux to prepare for an API call, then in a <code class="markup--code markup--p-code">try/catch</code>, do everything necessary to get the data, and dispatch a success or failure action as necessary.</p><p name="9112" id="9112" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">actions/postsActions.js</strong></p><pre name="0a4b" id="0a4b" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">// Combine them all in an asynchronous thunk<br>export function fetchPosts() {<br>  return async dispatch =&gt; {<br>    dispatch(getPosts())</code></pre><pre name="4847" id="4847" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">    try {<br>      const response = await fetch(&#39;https://jsonplaceholder.typicode.com/posts&#39;)<br>      const data = await response.json()</code></pre><pre name="9578" id="9578" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">      dispatch(getPostsSuccess(data))<br>    } catch (error) {<br>      dispatch(getPostsFailure())<br>    }<br>  }<br>}</code></pre><p name="964c" id="964c" class="graf graf--p graf-after--pre">Great, we’re all done with creating actions now! All that’s left to do is tell the reducer what to do with the state on each action.</p><h3 name="ae14" id="ae14" class="graf graf--h3 graf-after--p">Responding to actions</h3><p name="b9b6" id="b9b6" class="graf graf--p graf-after--h3">Back at our post reducer, we have a switch that isn’t doing anything yet.</p><p name="bffb" id="bffb" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">reducers/postsReducer.js</strong></p><pre name="f390" id="f390" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">export default function postsReducer(state = initialState, action) {<br>  switch (action.type) {<br>    default:<br>      return state<br>  }<br>}</code></pre><p name="1646" id="1646" class="graf graf--p graf-after--pre">Now that we have actions, we can bring them in from the <code class="markup--code markup--p-code">postsActions</code> page.</p><pre name="8692" id="8692" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">// Import all actions<br>import * as actions from &#39;../actions/postsActions&#39;</code></pre><p name="79f7" id="79f7" class="graf graf--p graf-after--pre">For each action, we&#39;ll make a <code class="markup--code markup--p-code">case</code>, that returns the entire state plus whatever change we&#39;re making to it. For <code class="markup--code markup--p-code">GET_POSTS</code>, for example, all we want to do is tell the app to set <code class="markup--code markup--p-code">loading</code> to <code class="markup--code markup--p-code">true</code> since we&#39;ll be making an API call.</p><pre name="4c63" id="4c63" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">case actions.GET_POSTS:<br>  return { ...state, loading: true }</code></pre><ul class="postList"><li name="15c1" id="15c1" class="graf graf--li graf-after--pre"><code class="markup--code markup--li-code">GET_POSTS</code> - begin loading</li><li name="4cef" id="4cef" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">GET_POSTS_SUCCESS</code> - the app has posts, no errors, and should stop loading</li><li name="9d29" id="9d29" class="graf graf--li graf-after--li"><code class="markup--code markup--li-code">GET_POSTS_FAILURE</code> - the app has errors and should stop loading</li><li name="b8db" id="b8db" class="graf graf--li graf-after--li">Here’s the whole reducer.</li><li name="2107" id="2107" class="graf graf--li graf-after--li"><strong class="markup--strong markup--li-strong">reducers/postsReducer.js</strong></li></ul><pre name="02cd" id="02cd" class="graf graf--pre graf-after--li"><code class="markup--code markup--pre-code">import * as actions from &#39;../actions/postsActions&#39;</code></pre><pre name="5d3e" id="5d3e" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">export const initialState = {<br>  posts: [],<br>  loading: false,<br>  hasErrors: false,<br>}</code></pre><pre name="d6f5" id="d6f5" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">export default function postsReducer(state = initialState, action) {<br>  switch (action.type) {<br>    case actions.GET_POSTS:<br>      return { ...state, loading: true }<br>    case actions.GET_POSTS_SUCCESS:<br>      return { <br>           posts: action.payload, loading: false, hasErrors: false <br>      }<br>    case actions.GET_POSTS_FAILURE:<br>      return { ...state, loading: false, hasErrors: true }<br>    default:<br>      return state<br>  }<br>}</code></pre><p name="df15" id="df15" class="graf graf--p graf-after--pre">Now our actions and reducers are ready, so all that’s left to do is connect everything to the React app.</p><h3 name="4a2e" id="4a2e" class="graf graf--h3 graf-after--p">Connecting Redux to React Components</h3><p name="b273" id="b273" class="graf graf--p graf-after--h3">Since the demo app I’ve created uses React Router to have a few routes — a dashboard, a listing of all posts, and an individual posts page, I’ll bring React Router in now. I’ll just bring in the dashboard and all posts listing for this demo.</p><p name="9e15" id="9e15" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">App.js</strong></p><pre name="65b3" id="65b3" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">import React from &#39;react&#39;<br>import { BrowserRouter as Router, Switch, Route, Redirect } from &#39;react-router-dom&#39;</code></pre><pre name="83fc" id="83fc" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">import DashboardPage from &#39;./pages/DashboardPage&#39;<br>import PostsPage from &#39;./pages/PostsPage&#39;</code></pre><pre name="c555" id="c555" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">const App = () =&gt; {<br>  return (<br>    &lt;Router&gt;<br>      &lt;Switch&gt;<br>        &lt;Route exact path=&quot;/&quot; component={DashboardPage} /&gt;<br>        &lt;Route exact path=&quot;/posts&quot; component={PostsPage} /&gt;<br>        &lt;Redirect to=&quot;/&quot; /&gt;<br>      &lt;/Switch&gt;<br>    &lt;/Router&gt;<br>  )<br>}</code></pre><pre name="2ac1" id="2ac1" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">export default App</code></pre><p name="9e41" id="9e41" class="graf graf--p graf-after--pre">We can create the dashboard page, which is just a regular React component.</p><p name="8c7d" id="8c7d" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">pages/DashboardPage.js</strong></p><pre name="3e42" id="3e42" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">import React from &#39;react&#39;<br>import { Link } from &#39;react-router-dom&#39;</code></pre><pre name="f6a1" id="f6a1" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">const DashboardPage = () =&gt; (<br>  &lt;section&gt;<br>    &lt;h1&gt;Dashboard&lt;/h1&gt;<br>    &lt;p&gt;This is the dashboard.&lt;/p&gt;</code></pre><pre name="ca82" id="ca82" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">    &lt;Link to=&quot;/posts&quot; className=&quot;button&quot;&gt;<br>      View Posts<br>    &lt;/Link&gt;<br>  &lt;/section&gt;<br>)</code></pre><pre name="288f" id="288f" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">export default DashboardPage</code></pre><p name="b0e9" id="b0e9" class="graf graf--p graf-after--pre">For each post, let’s make a <code class="markup--code markup--p-code">Post</code> component that will display the title and an excerpt of the text of the article. Make a <code class="markup--code markup--p-code">Post.js</code> in the <code class="markup--code markup--p-code">components</code> subdirectory.</p><p name="b0a2" id="b0a2" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">components/Post.js</strong></p><pre name="1925" id="1925" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">import React from &#39;react&#39;</code></pre><pre name="4f3c" id="4f3c" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">export const Post = ({ post }) =&gt; (<br>  &lt;article className=&quot;post-excerpt&quot;&gt;<br>    &lt;h2&gt;{post.title}&lt;/h2&gt;<br>    &lt;p&gt;{post.body.substring(0, 100)}&lt;/p&gt;<br>  &lt;/article&gt;<br>)</code></pre><blockquote name="d6a6" id="d6a6" class="graf graf--blockquote graf-after--pre">Components that do not connect to Redux are still important and useful for smaller, reusable areas, such as this Post component.</blockquote><p name="87ac" id="87ac" class="graf graf--p graf-after--blockquote">Now the interesting part comes in for the posts page — bringing Redux into React. To do this we’ll use <code class="markup--code markup--p-code">connect</code> from <code class="markup--code markup--p-code">react-redux</code>. First, we&#39;ll just make a regular component for the page.</p><p name="c714" id="c714" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">pages/PostsPage.js</strong></p><pre name="1db5" id="1db5" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">import React from &#39;react&#39;</code></pre><pre name="a3a5" id="a3a5" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">const PostsPage = () =&gt; {<br>  return (<br>    &lt;section&gt;<br>      &lt;h1&gt;Posts&lt;/h1&gt;<br>    &lt;/section&gt;<br>  )<br>}</code></pre><pre name="3653" id="3653" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">export default PostsPage</code></pre><p name="db02" id="db02" class="graf graf--p graf-after--pre">Then we’ll bring in <code class="markup--code markup--p-code">connect</code>. The <a href="https://react-redux.js.org/api/connect" data-href="https://react-redux.js.org/api/connect" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">connect function</a> is a higher-order function that connects the Redux store to a React component. We&#39;ll pass a parameter called <code class="markup--code markup--p-code">mapStateToProps</code> to <code class="markup--code markup--p-code">connect</code>. This aptly named function will take any state from the Redux store and pass it to the props of the React component. We&#39;ll bring in <code class="markup--code markup--p-code">loading</code>, <code class="markup--code markup--p-code">posts</code>, and <code class="markup--code markup--p-code">hasErrors</code> from the Redux <code class="markup--code markup--p-code">postsReducer</code>.</p><p name="0581" id="0581" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">pages/PostsPage.js</strong></p><pre name="8fb4" id="8fb4" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">import React from &#39;react&#39;<br>import { connect } from &#39;react-redux&#39;<br>// Redux state is now in the props of the component<br>const PostsPage = ({ loading, posts, hasErrors }) =&gt; {<br>  return (<br>    &lt;section&gt;<br>      &lt;h1&gt;Posts&lt;/h1&gt;<br>    &lt;/section&gt;<br>  )<br>}</code></pre><pre name="e694" id="e694" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">// Map Redux state to React component propsconst <br>mapStateToProps = state =&gt; ({ <br> loading: state.posts.loading,  posts: state.posts.posts,  hasErrors: state.posts.hasErrors,<br>})<br>// Connect Redux to Reactexport <br>default connect(mapStateToProps)(PostsPage)</code></pre><blockquote name="b9af" id="b9af" class="graf graf--blockquote graf-after--pre">Since this component uses state from the same reducer, we could also write <code class="markup--code markup--blockquote-code">state =&gt; state.posts</code>. However, learning how to write it the long way is useful to know in case you need to bring multiple reducers into the same component.</blockquote><p name="5828" id="5828" class="graf graf--p graf-after--blockquote">Finally, we’ll bring in the asynchronous <code class="markup--code markup--p-code">fetchPosts</code> from the actions, which is the action that combines the whole lifecycle of fetching all posts into one. Using <code class="markup--code markup--p-code">useEffect</code> from React, we&#39;ll <code class="markup--code markup--p-code">dispatch</code> <code class="markup--code markup--p-code">fetchPosts</code> when the component mounts. <code class="markup--code markup--p-code">dispatch</code> will automatically be available on a connected component.</p><p name="f9c9" id="f9c9" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">pages/PostsPage.js</strong></p><pre name="f09d" id="f09d" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">import React, { useEffect } from &#39;react&#39;import { connect } from &#39;react-redux&#39;</code></pre><pre name="19e9" id="19e9" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">// Bring in the asynchronous fetchPosts action<br>import { fetchPosts } from &#39;../actions/postsActions&#39;<br>const PostsPage = ({ dispatch, loading, posts, hasErrors }) =&gt; {  useEffect(() =&gt; {    dispatch(fetchPosts())  }, [dispatch])<br>  return (<br>    &lt;section&gt;<br>      &lt;h1&gt;Posts&lt;/h1&gt;<br>    &lt;/section&gt;<br>  )<br>}</code></pre><pre name="fd8e" id="fd8e" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">const mapStateToProps = state =&gt; ({<br>  loading: state.posts.loading,<br>  posts: state.posts.posts,<br>  hasErrors: state.posts.hasErrors,<br>})</code></pre><pre name="664d" id="664d" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">export default connect(mapStateToProps)(PostsPage)</code></pre><p name="62b9" id="62b9" class="graf graf--p graf-after--pre">All that’s left to do at this point is display all three possible states of the page — whether it’s loading, has an error, or successfully retrieved the posts from the API.</p><p name="4ffd" id="4ffd" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">pages/PostsPage.js</strong></p><pre name="163d" id="163d" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">import React, { useEffect } from &#39;react&#39;<br>import { connect } from &#39;react-redux&#39;</code></pre><pre name="f9b0" id="f9b0" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">import { fetchPosts } from &#39;../actions/postsActions&#39;<br>import { Post } from &#39;../components/Post&#39;<br>const PostsPage = ({ dispatch, loading, posts, hasErrors }) =&gt; {<br>  useEffect(() =&gt; {<br>    dispatch(fetchPosts())<br>  }, [dispatch])</code></pre><pre name="1c12" id="1c12" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">  // Show loading, error, or success state <br> const renderPosts = () =&gt; {    if (loading) return &lt;p&gt;Loading posts...&lt;/p&gt;    <br>if (hasErrors) <br>return &lt;p&gt;Unable to display posts.&lt;/p&gt;    <br>return posts.map(post =&gt; &lt;Post key={post.id} post={post} /&gt;)  }<br>  return (<br>    &lt;section&gt;<br>      &lt;h1&gt;Posts&lt;/h1&gt;<br>      {renderPosts()}    &lt;/section&gt;<br>  )<br>}</code></pre><pre name="836c" id="836c" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">const mapStateToProps = state =&gt; ({<br>  loading: state.posts.loading,<br>  posts: state.posts.posts,<br>  hasErrors: state.posts.hasErrors,<br>})</code></pre><pre name="43d9" id="43d9" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">export default connect(mapStateToProps)(PostsPage)</code></pre><p name="2e35" id="2e35" class="graf graf--p graf-after--pre">And that’s all — we now have a connected component, and are bringing in data from an API to our Redux store. Using Redux DevTools, we can see each action as it happens, and the changes (diff) after each state change.</p><figure name="074c" id="074c" class="graf graf--figure graf-after--p"><div class="aspectRatioPlaceholder is-locked" style="max-width: 549px; max-height: 481px;"><div class="aspectRatioPlaceholder-fill" style="padding-bottom: 87.6%;"></div><img class="graf-image" data-image-id="1*jU2dtjtGLaHAZcgEPSHqIg.png" data-width="549" data-height="481" src="https://cdn-images-1.medium.com/max/800/1*jU2dtjtGLaHAZcgEPSHqIg.png"></div></figure><h3 name="d4ca" id="d4ca" class="graf graf--h3 graf-after--figure">The End</h3><p name="4f3f" id="4f3f" class="graf graf--p graf-after--h3">This is where the tutorial for creating an application with plain Redux ends. If you look at the<a href="https://github.com/DimuthuKasunWP/REACT-REDUX" data-href="https://github.com/DimuthuKasunWP/REACT-REDUX" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank"> source code of the demo application</a>, you’ll see a lot has been added — a reducer and actions for a single post, and for comments.</p><p name="6ff0" id="6ff0" class="graf graf--p graf-after--p">I would recommend completing your project so that it matches the demo app. There are no new concepts to be learned, but you will create two more reducers and actions, and see how to bring two states into one component for the single post page, which brings in one post as well as comments for that post.</p><h3 name="d0ae" id="d0ae" class="graf graf--h3 graf-after--p">Redux Toolkit</h3><p name="bacb" id="bacb" class="graf graf--p graf-after--h3">There is one more thing I want to cover — <a href="https://redux-toolkit.js.org/" data-href="https://redux-toolkit.js.org/" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Redux Toolkit</a>. Redux Toolkit, or RTK, is a newer and easier official way to use Redux. You may notice that Redux has a <em class="markup--em markup--p-em">lot</em> of boilerplate for setup and requires many more folders and files than plain React would. Some patterns have emerged to attempt to mitigate all that, such as <a href="https://github.com/erikras/ducks-modular-redux" data-href="https://github.com/erikras/ducks-modular-redux" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">Redux ducks pattern</a>, but we can simplify it even more.</p><p name="99ea" id="99ea" class="graf graf--p graf-after--p">View the <a href="https://github.com/DimuthuKasunWP/REACT-REDUX/tree/redux-toolkit" data-href="https://github.com/DimuthuKasunWP/REACT-REDUX/tree/redux-toolkit" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">source of the demo Redux Toolkit application</a>, which is the same application we just created with Redux, but using RTK. It is much simpler, with a drastic reduction in lines of code for all the same functionality.</p><p name="2a79" id="2a79" class="graf graf--p graf-after--p">Using RTK just requires one dependency, <a href="https://github.com/reduxjs/redux-toolkit" data-href="https://github.com/reduxjs/redux-toolkit" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">@reduxjs/toolkit</a>.</p><pre name="54b7" id="54b7" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">@reduxjs/toolkit</code></pre><p name="ac1c" id="ac1c" class="graf graf--p graf-after--pre">And no longer requires you to install the <code class="markup--code markup--p-code">redux-thunk</code> or <code class="markup--code markup--p-code">redux-devtools-extension</code> dependencies.</p><h3 name="d058" id="d058" class="graf graf--h3 graf-after--p">Advantages to Redux Toolkit</h3><p name="61a6" id="61a6" class="graf graf--p graf-after--h3">The main advantages to using RTK are:</p><ul class="postList"><li name="f981" id="f981" class="graf graf--li graf-after--p">Easier to set up (less dependencies)</li><li name="c869" id="c869" class="graf graf--li graf-after--li">Reduction of boilerplate code (one slice vs. many files for actions and reducers)</li><li name="15ab" id="15ab" class="graf graf--li graf-after--li">Sensible defaults (Redux Thunk, Redux DevTools built-in)</li><li name="6129" id="6129" class="graf graf--li graf-after--li">The ability to use <a href="https://redux-toolkit.js.org/api/createreducer#direct-state-mutation" data-href="https://redux-toolkit.js.org/api/createreducer#direct-state-mutation" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">direct state mutation</a>, since RTK uses <a href="https://github.com/immerjs/immer" data-href="https://github.com/immerjs/immer" class="markup--anchor markup--li-anchor" rel="noopener" target="_blank">immer</a> under the hood. This means you no longer need to return <code class="markup--code markup--li-code">{ ...state }</code> with every reducer.</li></ul><h3 name="d1e8" id="d1e8" class="graf graf--h3 graf-after--li">Store</h3><p name="dd5d" id="dd5d" class="graf graf--p graf-after--h3">Since Redux Toolkit comes with a lot built-in already, like Redux DevTools and Redux Thunk, we no longer have to bring them into the <code class="markup--code markup--p-code">index.js</code> file. Now we only need <code class="markup--code markup--p-code">configureStore</code>, instead of <code class="markup--code markup--p-code">createStore</code>.</p><p name="002a" id="002a" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">index.js</strong></p><pre name="5aad" id="5aad" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">import React from &#39;react&#39;<br>import { render } from &#39;react-dom&#39;<br>import { configureStore } from &#39;@reduxjs/toolkit&#39;import { Provider } from &#39;react-redux&#39;</code></pre><pre name="2d7a" id="2d7a" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">import App from &#39;./App&#39;<br>import rootReducer from &#39;./slices&#39;</code></pre><pre name="6bb3" id="6bb3" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">import &#39;./index.css&#39;</code></pre><pre name="386e" id="386e" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">const store = configureStore({ reducer: rootReducer })<br>render(<br>  &lt;Provider store={store}&gt;<br>    &lt;App /&gt;<br>  &lt;/Provider&gt;,<br>  document.getElementById(&#39;root&#39;)<br>)</code></pre><h3 name="03d0" id="03d0" class="graf graf--h3 graf-after--pre">Slices</h3><p name="2969" id="2969" class="graf graf--p graf-after--h3">Instead of dealing with reducers, actions, and all as separate files and individually creating all those action types, RTK gives us the concept of slices. A <a href="https://redux-toolkit.js.org/api/createSlice" data-href="https://redux-toolkit.js.org/api/createSlice" class="markup--anchor markup--p-anchor" rel="noopener" target="_blank">slice</a> automatically generates reducers, action types, and action creators. As such, you’ll only have to create one folder — <code class="markup--code markup--p-code">slices</code>.</p><p name="21f6" id="21f6" class="graf graf--p graf-after--p"><code class="markup--code markup--p-code">initialState</code> will look the same.</p><p name="b890" id="b890" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">slices/posts.js</strong></p><pre name="b1f4" id="b1f4" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">import { createSlice } from &#39;@reduxjs/toolkit&#39;</code></pre><pre name="9a96" id="9a96" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">export const initialState = {<br>  loading: false,<br>  hasErrors: false,<br>  posts: [],<br>}</code></pre><p name="e249" id="e249" class="graf graf--p graf-after--pre">The names of the reducers in the slice will also be the same — <code class="markup--code markup--p-code">getPosts</code>, <code class="markup--code markup--p-code">getPostsSuccess</code>, and <code class="markup--code markup--p-code">getPostsFailure</code>. We&#39;ll make all the same changes, but note that we&#39;re no longer returning the entire state - we&#39;re just mutating state. It&#39;s still immutable under the hood, but this approach may be easier and faster for some. If preferred, you can still return the whole state as an object.</p><p name="7444" id="7444" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">slices/posts.js</strong></p><pre name="61be" id="61be" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">// A slice for posts with our three reducers<br>const postsSlice = createSlice({<br>  name: &#39;posts&#39;,<br>  initialState,<br>  reducers: {<br>    getPosts: state =&gt; {<br>      state.loading = true<br>    },<br>    getPostsSuccess: (state, { payload }) =&gt; {<br>      state.posts = payload<br>      state.loading = false<br>      state.hasErrors = false<br>    },<br>    getPostsFailure: state =&gt; {<br>      state.loading = false<br>      state.hasErrors = true<br>    },<br>  },<br>})</code></pre><p name="b686" id="b686" class="graf graf--p graf-after--pre">The actions that get generated are the same, we just don’t have to write them out individually anymore. From the same file, we can export all the actions, the reducer, the asynchronous thunk, and one new thing — a <code class="markup--code markup--p-code">selector</code>, which we&#39;ll use to access any of the state from a React component instead of using <code class="markup--code markup--p-code">connect</code>.</p><p name="22d4" id="22d4" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">slices/posts.js</strong></p><pre name="7d90" id="7d90" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">// Three actions generated from the slice<br>export const { getPosts, getPostsSuccess, getPostsFailure } = postsSlice.actions</code></pre><pre name="822b" id="822b" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">// A selector<br>export const postsSelector = state =&gt; state.posts</code></pre><pre name="448e" id="448e" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">// The reducer<br>export default postsSlice.reducer</code></pre><pre name="7688" id="7688" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">// Asynchronous thunk action<br>export function fetchPosts() {<br>  return async dispatch =&gt; {<br>    dispatch(getPosts())</code></pre><pre name="54b9" id="54b9" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">    try {<br>      const response = await fetch(&#39;https://jsonplaceholder.typicode.com/posts&#39;)<br>      const data = await response.json()</code></pre><pre name="115f" id="115f" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">      dispatch(getPostsSuccess(data))<br>    } catch (error) {<br>      dispatch(getPostsFailure())<br>    }<br>  }<br>}</code></pre><h3 name="1e74" id="1e74" class="graf graf--h3 graf-after--pre">Selecting Redux state in a React component</h3><p name="0b5f" id="0b5f" class="graf graf--p graf-after--h3">The traditional approach, as we just learned, is to use <code class="markup--code markup--p-code">mapStateToProps</code> with the <code class="markup--code markup--p-code">connect()</code> function. This is still common in codebases and therefore worth learning. You can still use this approach with RTK, but the newer, React Hooks way of going about it is to use <code class="markup--code markup--p-code">useDispatch</code> and <code class="markup--code markup--p-code">useSelector</code> from <code class="markup--code markup--p-code">react-redux</code>. This approach requires less code overall as well.</p><p name="83d9" id="83d9" class="graf graf--p graf-after--p">As you can see in the updated <code class="markup--code markup--p-code">PostsPage.js</code> file below, the Redux state is no longer available as props on the connected component, but from the selector we exported in the slice.</p><p name="560a" id="560a" class="graf graf--p graf-after--p"><strong class="markup--strong markup--p-strong">pages/PostsPage.js</strong></p><pre name="6f1d" id="6f1d" class="graf graf--pre graf-after--p"><code class="markup--code markup--pre-code">import React, { useEffect } from &#39;react&#39;<br>import { useDispatch, useSelector } from &#39;react-redux&#39;<br>import { fetchPosts, postsSelector } from &#39;../slices/posts&#39;<br>import { Post } from &#39;../components/Post&#39;</code></pre><pre name="8cc8" id="8cc8" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">const PostsPage = () =&gt; {<br>  const dispatch = useDispatch()  const { posts, loading, hasErrors } = useSelector(postsSelector)<br>  useEffect(() =&gt; {<br>    dispatch(fetchPosts())<br>  }, [dispatch])</code></pre><pre name="bdec" id="bdec" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">  const renderPosts = () =&gt; {<br>    if (loading) return &lt;p&gt;Loading posts...&lt;/p&gt;<br>    if (hasErrors) return &lt;p&gt;Unable to display posts.&lt;/p&gt;</code></pre><pre name="ef66" id="ef66" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">    return posts.map(post =&gt; &lt;Post key={post.id} post={post} excerpt /&gt;)<br>  }</code></pre><pre name="38e3" id="38e3" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">  return (<br>    &lt;section&gt;<br>      &lt;h1&gt;Posts&lt;/h1&gt;<br>      {renderPosts()}<br>    &lt;/section&gt;<br>  )<br>}</code></pre><pre name="51f7" id="51f7" class="graf graf--pre graf-after--pre"><code class="markup--code markup--pre-code">export default PostsPage</code></pre><p name="1b85" id="1b85" class="graf graf--p graf-after--pre">Now we have the same app as before with a few updates from Redux Toolkit, and a lot less code to maintain.</p><h3 name="8ff3" id="8ff3" class="graf graf--h3 graf-after--p">Conclusion</h3><p name="0834" id="0834" class="graf graf--p graf-after--h3">We did it! If you followed along with me through this whole tutorial, you should have a really good feel for Redux now, both the old-fashioned way and using Redux Toolkit to simplify things. To summarize, Redux allows us to easily manage global state in a React application. We can access and update the state from anywhere, and easily debug the entire state of an application with Redux Devtools.</p><p name="2152" id="2152" class="graf graf--p graf-after--p">You can place most of the state of your application in Redux, but certain areas of an app, such as forms as they are being updated, still make sense to keep in the React component state itself until the form is officially submitted.</p><p name="6057" id="6057" class="graf graf--p graf-after--p graf--trailing">I hope you enjoyed this article! It was a lot of work to put together two complete demo applications and run through the whole thing here, and the article ran pretty long, but hopefully, this is your one-stop-shop for learning all beginner and intermediate Redux concepts. Please let me know what you think and share the article if it helped you out.</p></div></div></section>
</section>
</article></body></html>